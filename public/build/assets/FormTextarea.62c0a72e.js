import{d as T}from"./debounce.12e79a22.js";import{r as k,g as L,o as E,c as b,t as z,k as S,b as F,l as C}from"./app.9b65fd31.js";var u,m,p=typeof Map=="function"?new Map:(u=[],m=[],{has:function(e){return u.indexOf(e)>-1},get:function(e){return m[u.indexOf(e)]},set:function(e,o){u.indexOf(e)===-1&&(u.push(e),m.push(o))},delete:function(e){var o=u.indexOf(e);o>-1&&(u.splice(o,1),m.splice(o,1))}}),N=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch{N=function(o){var d=document.createEvent("Event");return d.initEvent(o,!0,!1),d}}function M(e){var o=p.get(e);o&&o.destroy()}function W(e){var o=p.get(e);o&&o.update()}var f=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((f=function(e){return e}).destroy=function(e){return e},f.update=function(e){return e}):((f=function(e,o){return e&&Array.prototype.forEach.call(e.length?e:[e],function(d){return function(t){if(t&&t.nodeName&&t.nodeName==="TEXTAREA"&&!p.has(t)){var a,s=null,g=null,h=null,c=function(){t.clientWidth!==g&&l()},y=function(i){window.removeEventListener("resize",c,!1),t.removeEventListener("input",l,!1),t.removeEventListener("keyup",l,!1),t.removeEventListener("autosize:destroy",y,!1),t.removeEventListener("autosize:update",l,!1),Object.keys(i).forEach(function(r){t.style[r]=i[r]}),p.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",y,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",l,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",l,!1),t.addEventListener("autosize:update",l,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",p.set(t,{destroy:y,update:l}),(a=window.getComputedStyle(t,null)).resize==="vertical"?t.style.resize="none":a.resize==="both"&&(t.style.resize="horizontal"),s=a.boxSizing==="content-box"?-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)):parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),isNaN(s)&&(s=0),l()}function x(i){var r=t.style.width;t.style.width="0px",t.style.width=r,t.style.overflowY=i}function w(){if(t.scrollHeight!==0){var i=function(n){for(var v=[];n&&n.parentNode&&n.parentNode instanceof Element;)n.parentNode.scrollTop&&v.push({node:n.parentNode,scrollTop:n.parentNode.scrollTop}),n=n.parentNode;return v}(t),r=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+s+"px",g=t.clientWidth,i.forEach(function(n){n.node.scrollTop=n.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function l(){w();var i=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),n=r.boxSizing==="content-box"?Math.round(parseFloat(r.height)):t.offsetHeight;if(n<i?r.overflowY==="hidden"&&(x("scroll"),w(),n=r.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):r.overflowY!=="hidden"&&(x("hidden"),w(),n=r.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),h!==n){h=n;var v=N("autosize:resized");try{t.dispatchEvent(v)}catch{}}}}(d)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],M),e},f.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],W),e});var B=f;const V={class:"w-full"},A=["for"],H=["id","name","type","placeholder","pattern","readonly","value"],O={key:1,class:"text-red-700 mt-2 text-sm"},j={__name:"FormTextarea",props:{modelValue:{type:String,default:""},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""}},emits:["autosave","update:modelValue"],setup(e,{expose:o,emit:d}){const t=T(()=>d("autosave"),2500),a=k(null);L(()=>{B(a.value)});const s=()=>{d("update:modelValue",a.value.value),t()};return o({focus:()=>a.value.focus()}),(h,c)=>(E(),b("div",V,[e.label?(E(),b("label",{key:0,class:"form-label",for:e.name},z(e.label)+" :",9,A)):S("",!0),F("textarea",{id:e.name,name:e.name,ref_key:"textarea",ref:a,onInput:s,onChange:c[0]||(c[0]=y=>h.$emit("autosave")),type:e.type,placeholder:e.placeholder,pattern:e.pattern,readonly:e.readonly,value:e.modelValue,class:C(["form-input form-scroll-mt",{"border-red-400 text-red-400":e.error}])},null,42,H),e.error?(E(),b("div",O,z(e.error),1)):S("",!0)]))}};export{j as _};
