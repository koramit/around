import{B as y,C,r as D,o as p,c as m,b as t,d as r,w as G,ac as L,k as N,T as P,l as k,u as I,F as j}from"./app.afd383f4.js";import{_ as F}from"./FormCheckbox.2e810b10.js";import{_ as i}from"./FormInput.e7a9737b.js";import{_}from"./FormSelect.2480d720.js";import{_ as O}from"./FormRadio.54ba34be.js";import{u as H,_ as S}from"./FormSelectOther.32ffd475.js";import"./ModalDialog.52b6fb0e.js";const T=t("h2",{class:"mt-6 md:mt-12 xl:mt-24 flex justify-between items-center",id:"prescription"},[t("span",{class:"form-label mb-0 text-lg italic text-complement"},"HF Prescription"),t("button",{class:"text-sm text-accent"}," Copy last order ")],-1),E=t("hr",{class:"my-4 border-b border-accent"},null,-1),W={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},J=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),K={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},M={key:0,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},Q={key:1},R={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},X={key:2,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},Y={key:3,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},Z={key:4,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},ee=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),ae={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},oe=t("label",{for:"",class:"form-label"},"uf (ml.)",-1),le={class:"grid gap-2 md:grid-cols-2"},re=t("label",{class:"form-label"},"50% Glucose IV volume (ml)",-1),ne=t("label",{class:"form-label"},"20% albumin prime (ml)",-1),te=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),se=t("label",{class:"form-label"},"transfusion :",-1),ie={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},fe={__name:"HFForm",props:{modelValue:{type:Object,required:!0},formConfigs:{type:Object,required:!0}},emits:["update:modelValue","autosave"],setup(q,{emit:v}){var x,$;const h=q,e=y({...h.modelValue}),g={anticoagulant:(x=e.anticoagulant)!=null?x:null,access_type:($=e.access_type)!=null?$:null};C(()=>e,o=>{o.anticoagulant!==g.anticoagulant&&(o.anticoagulant_none_drip_via_peripheral_iv=!1,o.anticoagulant_none_nss_200ml_flush_q_hour=!1,o.heparin_loading_dose=null,o.heparin_maintenance_dose=null,o.enoxaparin_dose=null,o.fondaparinux_bolus_dose=null,o.tinzaparin_dose=null,o.anticoagulant_other=null,g.anticoagulant=o.anticoagulant),(o.access_type==="pending"||["DLC","Perm cath"].includes(o.access_type)&&!["DLC","Perm cath"].includes(g.access_type)||["AVF","AVG"].includes(o.access_type)&&!["AVF","AVG"].includes(g.access_type))&&(o.access_site_coagulant="",g.access_type=o.access_type),v("update:modelValue",o),v("autosave")},{deep:!0});const n=y({...h.formConfigs});e.anticoagulant&&n.anticoagulants.findIndex(o=>o.value==e.anticoagulant)===-1&&n.anticoagulants.push({value:e.anticoagulant,label:e.anticoagulant});const V=D(null);C(()=>e.anticoagulant,o=>{o.toLowerCase()==="other"&&(f.placeholder="Other anticoagulant",f.configs=n.anticoagulants,f.input=V.value,b.value.open())});const{selectOtherInput:b,selectOther:f,selectOtherClosed:B}=H(),d=y({heparin_loading_dose:null,heparin_maintenance_dose:null,enoxaparin_dose:null,tinzaparin_dose:null,ultrafiltration:null}),u=o=>{let a=n.validators[o];const c=a.type=="integer"?parseInt(e[o]):parseFloat(e[o]);c<a.min||c>a.max?(d[o]=`${e[o]} could not be saved. Accept range [${a.min}, ${a.max}].`,e[o]=null):d[o]=""};return(o,a)=>{var c,U;return p(),m(j,null,[T,E,t("div",W,[r(_,{label:"access type",modelValue:e.access_type,"onUpdate:modelValue":a[0]||(a[0]=l=>e.access_type=l),name:"hf.access_type",options:n.access_types,error:o.$page.props.errors["hf.access_type"]},null,8,["modelValue","options","error"]),r(_,{label:"access site coagulant",modelValue:e.access_site_coagulant,"onUpdate:modelValue":a[1]||(a[1]=l=>e.access_site_coagulant=l),name:"hf.access_site_coagulant",options:e.access_type&&e.access_type.startsWith("AV")?n.av_access_sites:n.non_av_access_sites,disabled:!e.access_type||e.access_type==="pending",error:o.$page.props.errors["hf.access_site_coagulant"]},null,8,["modelValue","options","disabled","error"]),r(_,{modelValue:e.dialyzer,"onUpdate:modelValue":a[2]||(a[2]=l=>e.dialyzer=l),name:"hf.dialyzer",label:"dialyzer",options:n.hf_dialyzers,error:o.$page.props.errors["hf.dialyzer"]},null,8,["modelValue","options","error"]),r(_,{modelValue:e.blood_flow_rate,"onUpdate:modelValue":a[3]||(a[3]=l=>e.blood_flow_rate=l),name:"hf.blood_flow_rate",options:n.blood_flow_rates,label:"blood flow rate (ml/min)",error:o.$page.props.errors["hf.blood_flow_rate"]},null,8,["modelValue","options","error"])]),J,t("div",K,[r(_,{modelValue:e.anticoagulant,"onUpdate:modelValue":a[4]||(a[4]=l=>e.anticoagulant=l),name:"hf.anticoagulant",label:"anticoagulant",options:n.anticoagulants,ref_key:"anticoagulantInput",ref:V,error:o.$page.props.errors["hf.anticoagulant"]},null,8,["modelValue","options","error"])]),r(P,{name:"slide-fade"},{default:G(()=>{var l,w,z,A;return[e.anticoagulant=="none"?(p(),m("div",M,[r(F,{label:"anticoagulant drip via peripheral IV",name:"anticoagulant_none_drip_via_peripheral_iv",modelValue:e.anticoagulant_none_drip_via_peripheral_iv,"onUpdate:modelValue":a[5]||(a[5]=s=>e.anticoagulant_none_drip_via_peripheral_iv=s)},null,8,["modelValue"]),r(F,{label:"NSS 200 ml flush q 1 hour",name:"anticoagulant_none_nss_200ml_flush_q_hour",modelValue:e.anticoagulant_none_nss_200ml_flush_q_hour,"onUpdate:modelValue":a[6]||(a[6]=s=>e.anticoagulant_none_nss_200ml_flush_q_hour=s)},null,8,["modelValue"])])):e.anticoagulant=="heparin"?(p(),m("div",Q,[t("div",R,[r(i,{label:"loading dose (iu)",name:"hf.heparin_loading_dose",modelValue:e.heparin_loading_dose,"onUpdate:modelValue":a[7]||(a[7]=s=>e.heparin_loading_dose=s),type:"number",pattern:"\\d*",onAutosave:a[8]||(a[8]=s=>u("heparin_loading_dose")),error:(l=d.heparin_loading_dose)!=null?l:o.$page.props.errors["hf.heparin_loading_dose"],placeholder:`[${n.validators.heparin_loading_dose.min}, ${n.validators.heparin_loading_dose.max}] IU`},null,8,["modelValue","error","placeholder"]),r(i,{label:"maintenance dose (iu/hour)",name:"hf.heparin_maintenance_dose",modelValue:e.heparin_maintenance_dose,"onUpdate:modelValue":a[9]||(a[9]=s=>e.heparin_maintenance_dose=s),type:"number",pattern:"\\d*",onAutosave:a[10]||(a[10]=s=>u("heparin_maintenance_dose")),error:(w=d.heparin_maintenance_dose)!=null?w:o.$page.props.errors["hf.heparin_maintenance_dose"],placeholder:`[${n.validators.heparin_maintenance_dose.min}, ${n.validators.heparin_maintenance_dose.max}] IU/Hour`},null,8,["modelValue","error","placeholder"])]),r(L,{title:"Duration of maintenance (hours)",message:"DLC/PC uses duration of dialysis. AVF/AVG uses duration of dialysis - 1."})])):e.anticoagulant=="enoxaparin"?(p(),m("div",X,[r(i,{label:"dose (ml)",name:"hf.enoxaparin_dose",modelValue:e.enoxaparin_dose,"onUpdate:modelValue":a[11]||(a[11]=s=>e.enoxaparin_dose=s),type:"number",onAutosave:a[12]||(a[12]=s=>u("enoxaparin_dose")),error:(z=d.enoxaparin_dose)!=null?z:o.$page.props.errors["hf.enoxaparin_dose"],placeholder:`[${n.validators.enoxaparin_dose.min}, ${n.validators.enoxaparin_dose.max}] ml`},null,8,["modelValue","error","placeholder"])])):e.anticoagulant=="fondaparinux"?(p(),m("div",Y,[r(_,{label:"bolus dose (iu)",name:"hf.fondaparinux_bolus_dose",modelValue:e.fondaparinux_bolus_dose,"onUpdate:modelValue":a[13]||(a[13]=s=>e.fondaparinux_bolus_dose=s),options:n.fondaparinux_bolus_doses,error:o.$page.props.errors["hf.fondaparinux_bolus_dose"]},null,8,["modelValue","options","error"])])):e.anticoagulant=="tinzaparin"?(p(),m("div",Z,[r(i,{label:"dose (iu)",name:"hf.tinzaparin_dose",modelValue:e.tinzaparin_dose,"onUpdate:modelValue":a[14]||(a[14]=s=>e.tinzaparin_dose=s),type:"number",pattern:"\\d*",onAutosave:a[15]||(a[15]=s=>u("tinzaparin_dose")),error:(A=d.tinzaparin_dose)!=null?A:o.$page.props.errors["hf.tinzaparin_dose"],placeholder:`[${n.validators.tinzaparin_dose.min}, ${n.validators.tinzaparin_dose.max}] IU`},null,8,["modelValue","error","placeholder"])])):N("",!0)]}),_:1}),ee,t("div",ae,[t("div",null,[oe,t("div",le,[r(i,{name:"hf.ultrafiltration_min",modelValue:e.ultrafiltration_min,"onUpdate:modelValue":a[16]||(a[16]=l=>e.ultrafiltration_min=l),pattern:"\\d*",type:"number",onAutosave:a[17]||(a[17]=l=>u("ultrafiltration_min")),error:(c=d.ultrafiltration_min)!=null?c:o.$page.props.errors["hf.ultrafiltration_min"],placeholder:`min [${n.validators.ultrafiltration_min.min}, ${n.validators.ultrafiltration_min.max}]`},null,8,["modelValue","error","placeholder"]),r(i,{name:"hf.ultrafiltration_max",modelValue:e.ultrafiltration_max,"onUpdate:modelValue":a[18]||(a[18]=l=>e.ultrafiltration_max=l),pattern:"\\d*",type:"number",onAutosave:a[19]||(a[19]=l=>u("ultrafiltration_max")),error:(U=d.ultrafiltration_max)!=null?U:o.$page.props.errors["hf.ultrafiltration_max"],placeholder:`max [${n.validators.ultrafiltration_max.min}, ${n.validators.ultrafiltration_max.max}]`},null,8,["modelValue","error","placeholder"])])]),r(i,{label:"dry weight (kg.)",modelValue:e.dry_weight,"onUpdate:modelValue":a[20]||(a[20]=l=>e.dry_weight=l),name:"hf.dry_weight",type:"number",error:o.$page.props.errors["hf.dry_weight"]},null,8,["modelValue","error"]),t("div",null,[re,r(O,{class:k(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.glucose_50_percent_iv_volume}]),name:"glucose_50_percent_iv_volume",modelValue:e.glucose_50_percent_iv_volume,"onUpdate:modelValue":a[21]||(a[21]=l=>e.glucose_50_percent_iv_volume=l),options:n.glucose_50_percent_iv_volumes,"allow-reset":!0},null,8,["class","modelValue","options"])]),t("div",null,[ne,r(O,{class:k(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.albumin_20_percent_prime}]),name:"albumin_20_percent_prime",modelValue:e.albumin_20_percent_prime,"onUpdate:modelValue":a[22]||(a[22]=l=>e.albumin_20_percent_prime=l),options:n.albumin_20_percent_primes,"allow-reset":!0},null,8,["class","modelValue","options"])]),r(i,{label:"nutrition iv type",modelValue:e.nutrition_iv_type,"onUpdate:modelValue":a[23]||(a[23]=l=>e.nutrition_iv_type=l),name:"hf.nutrition_iv_type",error:o.$page.props.errors["hf.nutrition_iv_type"]},null,8,["modelValue","error"]),r(i,{label:"nutrition iv volume (ml)",modelValue:e.nutrition_iv_volume,"onUpdate:modelValue":a[24]||(a[24]=l=>e.nutrition_iv_volume=l),name:"hf.nutrition_iv_volume",type:"number",pattern:"\\d*",error:o.$page.props.errors["hf.nutrition_iv_volume"]},null,8,["modelValue","error"])]),te,se,t("div",ie,[r(i,{label:"prc volume (unit)",name:"hf.prc_volume",modelValue:e.prc_volume,"onUpdate:modelValue":a[25]||(a[25]=l=>e.prc_volume=l),type:"number",error:o.$page.props.errors["hf.prc_volume"]},null,8,["modelValue","error"]),r(i,{label:"ffp volume (ml)",name:"hf.ffp_volume",modelValue:e.ffp_volume,"onUpdate:modelValue":a[26]||(a[26]=l=>e.ffp_volume=l),type:"number",pattern:"\\d*",error:o.$page.props.errors["hf.ffp_volume"]},null,8,["modelValue","error"]),r(i,{label:"platelet volume (unit)",name:"hf.platelet_volume",modelValue:e.platelet_volume,"onUpdate:modelValue":a[27]||(a[27]=l=>e.platelet_volume=l),type:"number",error:o.$page.props.errors["hf.platelet_volume"]},null,8,["modelValue","error"]),r(i,{label:"other",name:"hf.transfusion_other",modelValue:e.transfusion_other,"onUpdate:modelValue":a[28]||(a[28]=l=>e.transfusion_other=l),error:o.$page.props.errors["hf.transfusion_other"]},null,8,["modelValue","error"])]),r(S,{placeholder:I(f).placeholder,ref_key:"selectOtherInput",ref:b,onClosed:a[29]||(a[29]=l=>I(B)(l,!0))},null,8,["placeholder"])],64)}}};export{fe as default};
