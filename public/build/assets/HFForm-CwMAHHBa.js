import{l as c,z as b,r as I,b as d,c as u,d as t,e as r,g as k,h as x,f as O,L as F,q,s as $,u as U,F as P}from"./app-D_8RFzpF.js";import{_ as z}from"./FormCheckbox-Zs_WlRtz.js";import{_ as s}from"./FormInput-uHJsokC9.js";import{_ as m}from"./FormSelect-Bj2KoyY-.js";import{_ as w}from"./FormRadio-Bd1QiDKB.js";import L from"./FormSelectOther-DKNVnyFL.js";import{u as D}from"./useSelectOther-8U2IU6Ca.js";import{I as G}from"./IconCopy-KBy3XYYV.js";import"./ModalDialog-DwuUDbro.js";const j={class:"mt-6 md:mt-12 xl:mt-24 flex justify-between items-center",id:"prescription"},B=t("span",{class:"form-label !mb-0 text-lg italic text-complement"},"HF Prescription",-1),H=t("hr",{class:"my-4 border-b border-accent"},null,-1),S={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},T=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),E={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},R={key:0,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},W={key:1},J={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},K={key:2,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},M={key:3,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},Q={key:4,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},X=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),Y={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},Z=t("label",{for:"",class:"form-label"},"uf (ml.)",-1),N={class:"grid gap-2 md:grid-cols-2"},ee=t("label",{class:"form-label"},"50% Glucose IV volume (ml)",-1),oe=t("label",{class:"form-label"},"20% albumin prime (ml)",-1),ae=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),le=t("label",{class:"form-label"},"transfusion :",-1),re={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},ge={__name:"HFForm",props:{modelValue:{type:Object,required:!0},formConfigs:{type:Object,required:!0}},emits:["update:modelValue","autosave","copyPreviousOrder"],setup(f,{emit:C}){const y=f,v=C,e=c({...y.modelValue}),_={anticoagulant:e.anticoagulant??null,access_type:e.access_type??null};b(()=>e,l=>{l.anticoagulant!==_.anticoagulant&&(l.anticoagulant_none_drip_via_peripheral_iv=!1,l.anticoagulant_none_nss_200ml_flush_q_hour=!1,l.heparin_loading_dose=null,l.heparin_maintenance_dose=null,l.enoxaparin_dose=null,l.fondaparinux_bolus_dose=null,l.tinzaparin_dose=null,l.anticoagulant_other=null,_.anticoagulant=l.anticoagulant),(l.access_type==="pending"||l.access_type==="Remove"||["DLC","Perm cath"].includes(l.access_type)&&!["DLC","Perm cath"].includes(_.access_type)||["AVF","AVG"].includes(l.access_type)&&!["AVF","AVG"].includes(_.access_type))&&(l.access_site_coagulant="",_.access_type=l.access_type),v("update:modelValue",l),v("autosave")},{deep:!0});const n=c({...y.formConfigs});e.anticoagulant&&n.anticoagulants.findIndex(l=>l.value===e.anticoagulant)===-1&&n.anticoagulants.push({value:e.anticoagulant,label:e.anticoagulant});const h=I(null);b(()=>e.anticoagulant,l=>{l.toLowerCase()==="other"&&(g.placeholder="Other anticoagulant",g.configs=n.anticoagulants,g.input=h.value,V.value.open())});const{selectOtherInput:V,selectOther:g,selectOtherClosed:A}=D(),i=c({heparin_loading_dose:null,heparin_maintenance_dose:null,enoxaparin_dose:null,tinzaparin_dose:null,ultrafiltration:null}),p=l=>{let o=n.validators[l];const a=o.type==="integer"?parseInt(e[l]):parseFloat(e[l]);a<o.min||a>o.max?(i[l]=`${e[l]} could not be saved. Accept range [${o.min}, ${o.max}].`,e[l]=null):i[l]=""};return(l,o)=>(d(),u(P,null,[t("h2",j,[B,f.formConfigs.can.copy?(d(),u("button",{key:0,class:"flex items-center text-sm text-accent",onClick:o[0]||(o[0]=a=>l.$emit("copyPreviousOrder"))},[r(G,{class:"w-3 h-3 mr-1"}),k(" Copy previous order ")])):x("",!0)]),H,t("div",S,[r(m,{label:"access type",modelValue:e.access_type,"onUpdate:modelValue":o[1]||(o[1]=a=>e.access_type=a),name:"hf.access_type",options:n.access_types,error:l.$page.props.errors["hf.access_type"]},null,8,["modelValue","options","error"]),r(m,{label:"access site",modelValue:e.access_site_coagulant,"onUpdate:modelValue":o[2]||(o[2]=a=>e.access_site_coagulant=a),name:"hf.access_site_coagulant",options:e.access_type&&e.access_type.startsWith("AV")?n.av_access_sites:n.non_av_access_sites,disabled:!e.access_type||e.access_type==="pending",error:l.$page.props.errors["hf.access_site_coagulant"]},null,8,["modelValue","options","disabled","error"]),r(m,{modelValue:e.dialyzer,"onUpdate:modelValue":o[3]||(o[3]=a=>e.dialyzer=a),name:"hf.dialyzer",label:"dialyzer",options:n.hf_dialyzers,error:l.$page.props.errors["hf.dialyzer"]},null,8,["modelValue","options","error"]),r(m,{modelValue:e.blood_flow_rate,"onUpdate:modelValue":o[4]||(o[4]=a=>e.blood_flow_rate=a),name:"hf.blood_flow_rate",options:n.blood_flow_rates,label:"blood flow rate (ml/min)",error:l.$page.props.errors["hf.blood_flow_rate"]},null,8,["modelValue","options","error"])]),T,t("div",E,[r(m,{modelValue:e.anticoagulant,"onUpdate:modelValue":o[5]||(o[5]=a=>e.anticoagulant=a),name:"hf.anticoagulant",label:"anticoagulant",options:n.anticoagulants,ref_key:"anticoagulantInput",ref:h,error:l.$page.props.errors["hf.anticoagulant"]},null,8,["modelValue","options","error"])]),r(q,{name:"slide-fade"},{default:O(()=>[e.anticoagulant==="none"?(d(),u("div",R,[r(z,{label:"anticoagulant drip via peripheral IV",name:"anticoagulant_none_drip_via_peripheral_iv",modelValue:e.anticoagulant_none_drip_via_peripheral_iv,"onUpdate:modelValue":o[6]||(o[6]=a=>e.anticoagulant_none_drip_via_peripheral_iv=a)},null,8,["modelValue"]),r(z,{label:"NSS 200 ml flush q 1 hour",name:"anticoagulant_none_nss_200ml_flush_q_hour",modelValue:e.anticoagulant_none_nss_200ml_flush_q_hour,"onUpdate:modelValue":o[7]||(o[7]=a=>e.anticoagulant_none_nss_200ml_flush_q_hour=a)},null,8,["modelValue"])])):e.anticoagulant==="heparin"?(d(),u("div",W,[t("div",J,[r(s,{label:"loading dose (iu)",name:"hf.heparin_loading_dose",modelValue:e.heparin_loading_dose,"onUpdate:modelValue":o[8]||(o[8]=a=>e.heparin_loading_dose=a),type:"number",pattern:"\\d*",onAutosave:o[9]||(o[9]=a=>p("heparin_loading_dose")),error:i.heparin_loading_dose??l.$page.props.errors["hf.heparin_loading_dose"],placeholder:`[${n.validators.heparin_loading_dose.min}, ${n.validators.heparin_loading_dose.max}] IU`},null,8,["modelValue","error","placeholder"]),r(s,{label:"maintenance dose (iu/hour)",name:"hf.heparin_maintenance_dose",modelValue:e.heparin_maintenance_dose,"onUpdate:modelValue":o[10]||(o[10]=a=>e.heparin_maintenance_dose=a),type:"number",pattern:"\\d*",onAutosave:o[11]||(o[11]=a=>p("heparin_maintenance_dose")),error:i.heparin_maintenance_dose??l.$page.props.errors["hf.heparin_maintenance_dose"],placeholder:`[${n.validators.heparin_maintenance_dose.min}, ${n.validators.heparin_maintenance_dose.max}] IU/Hour`},null,8,["modelValue","error","placeholder"])]),r(F,{title:"Duration of maintenance (hours)",message:"DLC/PC uses duration of dialysis. AVF/AVG uses duration of dialysis - 1."})])):e.anticoagulant==="enoxaparin"?(d(),u("div",K,[r(s,{label:"dose (ml)",name:"hf.enoxaparin_dose",modelValue:e.enoxaparin_dose,"onUpdate:modelValue":o[12]||(o[12]=a=>e.enoxaparin_dose=a),type:"number",onAutosave:o[13]||(o[13]=a=>p("enoxaparin_dose")),error:i.enoxaparin_dose??l.$page.props.errors["hf.enoxaparin_dose"],placeholder:`[${n.validators.enoxaparin_dose.min}, ${n.validators.enoxaparin_dose.max}] ml`},null,8,["modelValue","error","placeholder"])])):e.anticoagulant==="fondaparinux"?(d(),u("div",M,[r(m,{label:"bolus dose (iu)",name:"hf.fondaparinux_bolus_dose",modelValue:e.fondaparinux_bolus_dose,"onUpdate:modelValue":o[14]||(o[14]=a=>e.fondaparinux_bolus_dose=a),options:n.fondaparinux_bolus_doses,error:l.$page.props.errors["hf.fondaparinux_bolus_dose"]},null,8,["modelValue","options","error"])])):e.anticoagulant==="tinzaparin"?(d(),u("div",Q,[r(s,{label:"dose (iu)",name:"hf.tinzaparin_dose",modelValue:e.tinzaparin_dose,"onUpdate:modelValue":o[15]||(o[15]=a=>e.tinzaparin_dose=a),type:"number",pattern:"\\d*",onAutosave:o[16]||(o[16]=a=>p("tinzaparin_dose")),error:i.tinzaparin_dose??l.$page.props.errors["hf.tinzaparin_dose"],placeholder:`[${n.validators.tinzaparin_dose.min}, ${n.validators.tinzaparin_dose.max}] IU`},null,8,["modelValue","error","placeholder"])])):x("",!0)]),_:1}),X,t("div",Y,[t("div",null,[Z,t("div",N,[r(s,{name:"hf.ultrafiltration_min",modelValue:e.ultrafiltration_min,"onUpdate:modelValue":o[17]||(o[17]=a=>e.ultrafiltration_min=a),pattern:"\\d*",type:"number",onAutosave:o[18]||(o[18]=a=>p("ultrafiltration_min")),error:i.ultrafiltration_min??l.$page.props.errors["hf.ultrafiltration_min"],placeholder:`min [${n.validators.ultrafiltration_min.min}, ${n.validators.ultrafiltration_min.max}]`},null,8,["modelValue","error","placeholder"]),r(s,{name:"hf.ultrafiltration_max",modelValue:e.ultrafiltration_max,"onUpdate:modelValue":o[19]||(o[19]=a=>e.ultrafiltration_max=a),pattern:"\\d*",type:"number",onAutosave:o[20]||(o[20]=a=>p("ultrafiltration_max")),error:i.ultrafiltration_max??l.$page.props.errors["hf.ultrafiltration_max"],placeholder:`max [${n.validators.ultrafiltration_max.min}, ${n.validators.ultrafiltration_max.max}]`},null,8,["modelValue","error","placeholder"])])]),r(s,{label:"dry weight (kg.)",modelValue:e.dry_weight,"onUpdate:modelValue":o[21]||(o[21]=a=>e.dry_weight=a),name:"hf.dry_weight",type:"number",error:l.$page.props.errors["hf.dry_weight"]},null,8,["modelValue","error"]),t("div",null,[ee,r(w,{class:$(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.glucose_50_percent_iv_volume}]),name:"glucose_50_percent_iv_volume",modelValue:e.glucose_50_percent_iv_volume,"onUpdate:modelValue":o[22]||(o[22]=a=>e.glucose_50_percent_iv_volume=a),options:n.glucose_50_percent_iv_volumes,"allow-reset":!0},null,8,["class","modelValue","options"])]),t("div",null,[oe,r(w,{class:$(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.albumin_20_percent_prime}]),name:"albumin_20_percent_prime",modelValue:e.albumin_20_percent_prime,"onUpdate:modelValue":o[23]||(o[23]=a=>e.albumin_20_percent_prime=a),options:n.albumin_20_percent_primes,"allow-reset":!0},null,8,["class","modelValue","options"])]),r(s,{label:"nutrition iv type",modelValue:e.nutrition_iv_type,"onUpdate:modelValue":o[24]||(o[24]=a=>e.nutrition_iv_type=a),name:"hf.nutrition_iv_type",error:l.$page.props.errors["hf.nutrition_iv_type"]},null,8,["modelValue","error"]),r(s,{label:"nutrition iv volume (ml)",modelValue:e.nutrition_iv_volume,"onUpdate:modelValue":o[25]||(o[25]=a=>e.nutrition_iv_volume=a),name:"hf.nutrition_iv_volume",type:"number",pattern:"\\d*",error:l.$page.props.errors["hf.nutrition_iv_volume"]},null,8,["modelValue","error"])]),ae,le,t("div",re,[r(s,{label:"prc volume (unit)",name:"hf.prc_volume",modelValue:e.prc_volume,"onUpdate:modelValue":o[26]||(o[26]=a=>e.prc_volume=a),type:"number",error:l.$page.props.errors["hf.prc_volume"]},null,8,["modelValue","error"]),r(s,{label:"ffp volume (ml)",name:"hf.ffp_volume",modelValue:e.ffp_volume,"onUpdate:modelValue":o[27]||(o[27]=a=>e.ffp_volume=a),type:"number",pattern:"\\d*",error:l.$page.props.errors["hf.ffp_volume"]},null,8,["modelValue","error"]),r(s,{label:"platelet volume (unit)",name:"hf.platelet_volume",modelValue:e.platelet_volume,"onUpdate:modelValue":o[28]||(o[28]=a=>e.platelet_volume=a),type:"number",error:l.$page.props.errors["hf.platelet_volume"]},null,8,["modelValue","error"]),r(s,{label:"other",name:"hf.transfusion_other",modelValue:e.transfusion_other,"onUpdate:modelValue":o[29]||(o[29]=a=>e.transfusion_other=a),error:l.$page.props.errors["hf.transfusion_other"]},null,8,["modelValue","error"])]),r(L,{placeholder:U(g).placeholder,ref_key:"selectOtherInput",ref:V,onClosed:o[30]||(o[30]=a=>U(A)(a,!0))},null,8,["placeholder"])],64))}};export{ge as default};
