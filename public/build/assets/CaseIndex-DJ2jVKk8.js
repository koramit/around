function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SearchAdmission-BbjyDvsu.js","assets/app-CC1FPugz.js","assets/app-ZAqhPQuf.css","assets/ModalDialog-i1lJFlzP.js","assets/ModalDialog-D5lw9OXk.css","assets/FormInput-FD2rBO-Y.js","assets/SpinnerButton-DXbXdbzm.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as C,b as s,c as n,d as t,r as H,T as A,l as B,o as D,e as o,h as w,F as a,m as y,u as d,t as i,s as g,f as m,K as _,k as x,g as V,A as S,C as q}from"./app-CC1FPugz.js";import{_ as M}from"./SearchIndex-BUeMO_n1.js";import{I as $}from"./IconDoubleRight-buWzu0qi.js";import{I as z}from"./IconUserMd-CTLg_PXe.js";import{_ as E}from"./PaginationNav-O8wjWSEn.js";import{_ as L}from"./FormSelect-CBjrIjBq.js";import"./pickBy-BAnHv7bN.js";import"./throttle-Dvu3cFSN.js";const F={},P={viewBox:"0 0 576 512"},U=t("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},null,-1),K=[U];function G(c,h){return s(),n("svg",P,K)}const j=C(F,[["render",G]]),J={},Q={viewBox:"0 0 448 512"},W=t("path",{fill:"currentColor",d:"M336 292v24c0 6.6-5.4 12-12 12h-76v76c0 6.6-5.4 12-12 12h-24c-6.6 0-12-5.4-12-12v-76h-76c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h76v-76c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v76h76c6.6 0 12 5.4 12 12zm112-180v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},null,-1),X=[W];function Y(c,h){return s(),n("svg",Q,X)}const T=C(J,[["render",Y]]),Z={},R={viewBox:"0 0 576 512"},ee=t("path",{fill:"currentColor",d:"M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75 .7 2.8 5.2 2.8 6 0 14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z"},null,-1),te=[ee];function se(c,h){return s(),n("svg",R,te)}const I=C(Z,[["render",se]]),ne={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},oe={class:"hidden lg:flex lg:gap-x-2"},le={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},ce={class:"w-full whitespace-nowrap"},ie={class:"text-left font-semibold text-complement"},re=["textContent","colspan"],ae={key:0,class:"px-6 py-4 border-t"},de={class:""},me={key:1,class:"px-6 py-4 border-t"},_e={class:"flex items-center justify-between"},ue=["innerHTML"],he=["innerHTML"],fe=["innerHTML"],pe=["textContent"],ye={class:"border-t"},xe={class:"action-icon"},ve={class:"md:hidden"},be={class:"flex justify-between items-center my-2 px-2"},ke={class:"my-2 p-2 bg-gray-100 rounded space-y-2"},we={key:0,class:"flex justify-end"},ge={class:"font-semibold text-complement text-xs flex items-center"},Ce={class:"block italic truncate"},He={key:1,class:"flex justify-center items-center h-12"},Ve={key:1},Me={class:"flex items-center justify-between"},$e=["innerHTML"],ze={class:"font-semibold text-complement text-xs flex items-center"},Le={class:"block italic truncate"},je={class:"flex items-center justify-between"},Te=["textContent"],Ie={class:"flex items-center"},Oe=["textContent"],Ne=t("template",null,null,-1),Ue={__name:"CaseIndex",props:{cases:{type:Object,required:!0},configs:{type:Object,required:!0},filters:{type:Object,required:!0},routes:{type:Object,required:!0},can:{type:Object,required:!0}},setup(c){const h=S(()=>q(()=>import("./SearchAdmission-BbjyDvsu.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),f=c,O=H(null),v=A({hn:null,an:null}),r=B({search:f.filters.search,scope:f.filters.scope,md:f.filters.md}),N=p=>{v.hn=p.hn,v.an=p.an,v.post(f.routes.store)},b=H(null);return D(()=>b.value.focus()),(p,l)=>(s(),n(a,null,[t("div",ne,[o(M,{class:"lg:hidden",scopes:c.configs.scopes,form:r,onSearchChanged:l[0]||(l[0]=e=>r.search=e),onScopeChanged:l[1]||(l[1]=e=>r.scope=e),ref_key:"searchInput",ref:b},null,8,["scopes","form"]),t("div",oe,[o(M,{scopes:c.configs.scopes,form:r,onSearchChanged:l[2]||(l[2]=e=>r.search=e),onScopeChanged:l[3]||(l[3]=e=>r.scope=e),ref_key:"searchInput",ref:b},null,8,["scopes","form"]),o(L,{class:"hidden lg:block lg:w-auto",modelValue:r.md,"onUpdate:modelValue":l[4]||(l[4]=e=>r.md=e),name:"md",options:c.configs.mdOptions,placeholder:"Filter by MD"},null,8,["modelValue","options"])]),c.can.create?(s(),n("button",{key:0,class:"btn btn-accent w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:l[5]||(l[5]=e=>p.$refs.searchAdmission.open())}," Create New Case ")):w("",!0)]),o(L,{class:"mb-4 lg:hidden",modelValue:r.md,"onUpdate:modelValue":l[6]||(l[6]=e=>r.md=e),name:"md",options:c.configs.mdOptions,placeholder:"Filter by MD"},null,8,["modelValue","options"]),t("div",le,[t("table",ce,[t("tr",ie,[(s(),n(a,null,y(["HN","Name","Status","On","Type","Order","MD"],e=>t("th",{class:"px-6 pt-6 pb-4",key:e,textContent:i(e),colspan:e==="MD"?2:1},null,8,re)),64))]),(s(!0),n(a,null,y(c.cases.data,(e,k)=>(s(),n("tr",{class:"focus-within:bg-primary-darker",key:k},[(s(),n(a,null,y(["hn","patient_name","case_status","date_note","dialysis_type","status","md"],u=>(s(),n(a,{key:u},[u==="date_note"?(s(),n("td",ae,[t("span",{class:g(["inline-flex h-6 w-6 mr-2 rounded-full items-center justify-center text-sm italic",{"text-complement bg-primary-darker":e.dialysis_at==="in","text-primary bg-complement":e.dialysis_at==="out"}])},i(e.dialysis_at),3),t("span",de,i(e.date_note),1)])):u==="status"?(s(),n("td",me,[t("div",_e,[e.can.edit_order?(s(),n(a,{key:0},[t("span",{innerHTML:e[u]},null,8,ue),o(d(_),{href:e.routes.edit_order,class:"action-icon"},{default:m(()=>[o(j,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):e.can.view_order?(s(),n(a,{key:1},[t("span",{innerHTML:e[u]},null,8,he),o(d(_),{href:e.routes.view_order,class:"action-icon"},{default:m(()=>[o(I,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):e.can.create_order?(s(),x(d(_),{key:2,href:e.routes.create_order,class:"action-icon"},{default:m(()=>[o(T,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",{key:3,innerHTML:e[u]},null,8,fe))])])):(s(),n("td",{key:2,class:"px-6 py-4 border-t",textContent:i(e[u])},null,8,pe))],64))),64)),t("td",ye,[o(d(_),{class:"px-4 py-2 flex items-center",href:e.routes.edit},{default:m(()=>[t("span",xe,[o($,{class:"w-4 h-4"})])]),_:2},1032,["href"])])]))),128))])]),t("div",ve,[(s(!0),n(a,null,y(c.cases.data,(e,k)=>(s(),n("div",{class:"bg-white rounded shadow my-4 p-4",key:k},[t("div",be,[t("div",null," HN: "+i(e.hn)+" "+i(e.patient_name),1),o(d(_),{href:e.routes.edit,class:"action-icon-mobile"},{default:m(()=>[o($,{class:"w-4 h-4"})]),_:2},1032,["href"])]),t("div",ke,[e.case_status!=="active"?(s(),n(a,{key:0},[e.md?(s(),n("div",we,[t("p",ge,[o(z,{class:"h-3 w-3 mr-1"}),t("span",Ce,i(e.md),1)])])):w("",!0),t("p",{class:g(["text-center",{"pb-4":e.md}])},i(e.case_status),3)],64)):e.date_note?(s(),n(a,{key:2},[t("div",Me,[t("span",{innerHTML:e.status},null,8,$e),t("p",ze,[o(z,{class:"h-3 w-3 mr-1"}),t("span",Le,i(e.md),1)])]),t("div",je,[t("p",null,[V(" On : "),t("span",{class:"text-complement font-semibold",textContent:i(e.date_note)},null,8,Te),t("span",{class:g(["text-sm italic ml-1",{"text-accent":e.dialysis_at==="in","text-complement":e.dialysis_at==="out"}])},i(e.dialysis_at),3)]),t("p",Ie,[V(" Type : "),t("span",{class:"text-complement font-semibold",textContent:i(e.dialysis_type)},null,8,Oe),e.can.edit_order?(s(),x(d(_),{key:0,href:e.routes.edit_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:m(()=>[o(j,{class:"w-4 h-4"})]),_:2},1032,["href"])):e.can.view_order?(s(),x(d(_),{key:1,href:e.routes.view_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:m(()=>[o(I,{class:"w-4 h-4"})]),_:2},1032,["href"])):w("",!0)])]),Ne],64)):(s(),n("div",He,[e.can.create_order?(s(),x(d(_),{key:0,href:e.routes.create_order,class:"p-2 rounded-full bg-primary-darker text-accent"},{default:m(()=>[o(T,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",Ve,i(e.case_status),1))]))])]))),128))]),o(E,{links:c.cases.links},null,8,["links"]),o(d(h),{ref_key:"searchAdmission",ref:O,onConfirmed:N,mode:"hn","service-endpoint":c.routes.serviceEndpoint},null,8,["service-endpoint"])],64))}};export{Ue as default};
