import{k as c,v as y,r as k,h as d,c as u,b as t,d as n,f as F,g as v,e as L,x as q,m as P,p as U,F as w,u as C}from"./app-Dm-rz4P0.js";import{_ as z}from"./FormCheckbox-ffXh_j2w.js";import{_ as s}from"./FormInput-Bl1VXbIN.js";import{_ as m}from"./FormSelect-Dk6vrtT4.js";import{_ as I}from"./FormRadio-DtkhsyD4.js";import D from"./FormSelectOther-CVH9TCwV.js";import{u as G}from"./useSelectOther-D4qWtZtx.js";import{I as j}from"./IconCopy-CQeoRmTJ.js";import"./ModalDialog-BCpnuxHH.js";const B={class:"mt-6 md:mt-12 xl:mt-24 flex justify-between items-center",id:"prescription"},H={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},S={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},T={key:0,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},E={key:1},R={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},W={key:2,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},J={key:3,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},K={key:4,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},M={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},Q={class:"grid gap-2 md:grid-cols-2"},X={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},Y={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},se={__name:"HFForm",props:{modelValue:{type:Object,required:!0},formConfigs:{type:Object,required:!0}},emits:["update:modelValue","autosave","copyPreviousOrder"],setup(V,{emit:A}){const h=V,b=A,o=c({...h.modelValue}),g={anticoagulant:o.anticoagulant??null,access_type:o.access_type??null};y(()=>o,a=>{a.anticoagulant!==g.anticoagulant&&(a.anticoagulant_none_drip_via_peripheral_iv=!1,a.anticoagulant_none_nss_200ml_flush_q_hour=!1,a.heparin_loading_dose=null,a.heparin_maintenance_dose=null,a.enoxaparin_dose=null,a.fondaparinux_bolus_dose=null,a.tinzaparin_dose=null,a.anticoagulant_other=null,g.anticoagulant=a.anticoagulant),(a.access_type==="pending"||a.access_type==="Remove"||["DLC","Perm cath"].includes(a.access_type)&&!["DLC","Perm cath"].includes(g.access_type)||["AVF","AVG"].includes(a.access_type)&&!["AVF","AVG"].includes(g.access_type))&&(a.access_site_coagulant="",g.access_type=a.access_type),b("update:modelValue",a),b("autosave")},{deep:!0});const r=c({...h.formConfigs});o.anticoagulant&&r.anticoagulants.findIndex(a=>a.value===o.anticoagulant)===-1&&r.anticoagulants.push({value:o.anticoagulant,label:o.anticoagulant});const x=k(null);y(()=>o.anticoagulant,a=>{a.toLowerCase()==="other"&&(p.placeholder="Other anticoagulant",p.configs=r.anticoagulants,p.input=x.value,f.value.open())}),o.catheter_lock&&r.catheter_lock_options.findIndex(a=>a.value===o.catheter_lock)===-1&&r.catheter_lock_options.push({value:o.catheter_lock,label:o.catheter_lock});const $=k(null);y(()=>o.catheter_lock,a=>{a.toLowerCase()==="other"&&(p.placeholder="Other Catheter lock",p.configs=r.catheter_lock_options,p.input=$.value,f.value.open())});const{selectOtherInput:f,selectOther:p,selectOtherClosed:O}=G(),i=c({heparin_loading_dose:null,heparin_maintenance_dose:null,enoxaparin_dose:null,tinzaparin_dose:null,ultrafiltration:null}),_=a=>{let e=r.validators[a];const l=e.type==="integer"?parseInt(o[a]):parseFloat(o[a]);l<e.min||l>e.max?(i[a]=`${o[a]} could not be saved. Accept range [${e.min}, ${e.max}].`,o[a]=null):i[a]=""};return(a,e)=>(d(),u(w,null,[t("h2",B,[e[33]||(e[33]=t("span",{class:"form-label !mb-0 text-lg italic text-complement"},"HF Prescription",-1)),V.formConfigs.can.copy?(d(),u("button",{key:0,class:"flex items-center text-sm text-accent",onClick:e[0]||(e[0]=l=>a.$emit("copyPreviousOrder"))},[n(j,{class:"w-3 h-3 mr-1"}),e[32]||(e[32]=F(" Copy previous order "))])):v("",!0)]),e[38]||(e[38]=t("hr",{class:"my-4 border-b border-accent"},null,-1)),t("div",H,[n(m,{label:"access type",modelValue:o.access_type,"onUpdate:modelValue":e[1]||(e[1]=l=>o.access_type=l),name:"hf.access_type",options:r.access_types,error:a.$page.props.errors["hf.access_type"]},null,8,["modelValue","options","error"]),n(m,{label:"access site",modelValue:o.access_site_coagulant,"onUpdate:modelValue":e[2]||(e[2]=l=>o.access_site_coagulant=l),name:"hf.access_site_coagulant",options:o.access_type&&o.access_type.startsWith("AV")?r.av_access_sites:r.non_av_access_sites,disabled:!o.access_type||o.access_type==="pending",error:a.$page.props.errors["hf.access_site_coagulant"]},null,8,["modelValue","options","disabled","error"]),n(m,{modelValue:o.dialyzer,"onUpdate:modelValue":e[3]||(e[3]=l=>o.dialyzer=l),name:"hf.dialyzer",label:"dialyzer",options:r.hf_dialyzers,error:a.$page.props.errors["hf.dialyzer"]},null,8,["modelValue","options","error"]),n(m,{modelValue:o.blood_flow_rate,"onUpdate:modelValue":e[4]||(e[4]=l=>o.blood_flow_rate=l),name:"hf.blood_flow_rate",options:r.blood_flow_rates,label:"blood flow rate (ml/min)",error:a.$page.props.errors["hf.blood_flow_rate"]},null,8,["modelValue","options","error"])]),e[39]||(e[39]=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),t("div",S,[n(m,{modelValue:o.anticoagulant,"onUpdate:modelValue":e[5]||(e[5]=l=>o.anticoagulant=l),name:"hf.anticoagulant",label:"anticoagulant",options:r.anticoagulants,ref_key:"anticoagulantInput",ref:x,error:a.$page.props.errors["hf.anticoagulant"]},null,8,["modelValue","options","error"])]),n(P,{name:"slide-fade"},{default:L(()=>[o.anticoagulant==="none"?(d(),u("div",T,[n(z,{label:"anticoagulant drip via peripheral IV",name:"anticoagulant_none_drip_via_peripheral_iv",modelValue:o.anticoagulant_none_drip_via_peripheral_iv,"onUpdate:modelValue":e[6]||(e[6]=l=>o.anticoagulant_none_drip_via_peripheral_iv=l)},null,8,["modelValue"]),n(z,{label:"NSS 200 ml flush q 1 hour",name:"anticoagulant_none_nss_200ml_flush_q_hour",modelValue:o.anticoagulant_none_nss_200ml_flush_q_hour,"onUpdate:modelValue":e[7]||(e[7]=l=>o.anticoagulant_none_nss_200ml_flush_q_hour=l)},null,8,["modelValue"])])):o.anticoagulant==="heparin"?(d(),u("div",E,[t("div",R,[n(s,{label:"loading dose (iu)",name:"hf.heparin_loading_dose",modelValue:o.heparin_loading_dose,"onUpdate:modelValue":e[8]||(e[8]=l=>o.heparin_loading_dose=l),type:"number",pattern:"\\d*",onAutosave:e[9]||(e[9]=l=>_("heparin_loading_dose")),error:i.heparin_loading_dose??a.$page.props.errors["hf.heparin_loading_dose"],placeholder:`[${r.validators.heparin_loading_dose.min}, ${r.validators.heparin_loading_dose.max}] IU`},null,8,["modelValue","error","placeholder"]),n(s,{label:"maintenance dose (iu/hour)",name:"hf.heparin_maintenance_dose",modelValue:o.heparin_maintenance_dose,"onUpdate:modelValue":e[10]||(e[10]=l=>o.heparin_maintenance_dose=l),type:"number",pattern:"\\d*",onAutosave:e[11]||(e[11]=l=>_("heparin_maintenance_dose")),error:i.heparin_maintenance_dose??a.$page.props.errors["hf.heparin_maintenance_dose"],placeholder:`[${r.validators.heparin_maintenance_dose.min}, ${r.validators.heparin_maintenance_dose.max}] IU/Hour`},null,8,["modelValue","error","placeholder"])]),n(q,{title:"Duration of maintenance (hours)",message:"DLC/PC uses duration of dialysis. AVF/AVG uses duration of dialysis - 1."})])):o.anticoagulant==="enoxaparin"?(d(),u("div",W,[n(s,{label:"dose (ml)",name:"hf.enoxaparin_dose",modelValue:o.enoxaparin_dose,"onUpdate:modelValue":e[12]||(e[12]=l=>o.enoxaparin_dose=l),type:"number",onAutosave:e[13]||(e[13]=l=>_("enoxaparin_dose")),error:i.enoxaparin_dose??a.$page.props.errors["hf.enoxaparin_dose"],placeholder:`[${r.validators.enoxaparin_dose.min}, ${r.validators.enoxaparin_dose.max}] ml`},null,8,["modelValue","error","placeholder"])])):o.anticoagulant==="fondaparinux"?(d(),u("div",J,[n(m,{label:"bolus dose (iu)",name:"hf.fondaparinux_bolus_dose",modelValue:o.fondaparinux_bolus_dose,"onUpdate:modelValue":e[14]||(e[14]=l=>o.fondaparinux_bolus_dose=l),options:r.fondaparinux_bolus_doses,error:a.$page.props.errors["hf.fondaparinux_bolus_dose"]},null,8,["modelValue","options","error"])])):o.anticoagulant==="tinzaparin"?(d(),u("div",K,[n(s,{label:"dose (iu)",name:"hf.tinzaparin_dose",modelValue:o.tinzaparin_dose,"onUpdate:modelValue":e[15]||(e[15]=l=>o.tinzaparin_dose=l),type:"number",pattern:"\\d*",onAutosave:e[16]||(e[16]=l=>_("tinzaparin_dose")),error:i.tinzaparin_dose??a.$page.props.errors["hf.tinzaparin_dose"],placeholder:`[${r.validators.tinzaparin_dose.min}, ${r.validators.tinzaparin_dose.max}] IU`},null,8,["modelValue","error","placeholder"])])):v("",!0)]),_:1}),e[40]||(e[40]=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),t("div",M,[t("div",null,[e[34]||(e[34]=t("label",{for:"",class:"form-label"},"uf (ml.)",-1)),t("div",Q,[n(s,{name:"hf.ultrafiltration_min",modelValue:o.ultrafiltration_min,"onUpdate:modelValue":e[17]||(e[17]=l=>o.ultrafiltration_min=l),pattern:"\\d*",type:"number",onAutosave:e[18]||(e[18]=l=>_("ultrafiltration_min")),error:i.ultrafiltration_min??a.$page.props.errors["hf.ultrafiltration_min"],placeholder:`min [${r.validators.ultrafiltration_min.min}, ${r.validators.ultrafiltration_min.max}]`},null,8,["modelValue","error","placeholder"]),n(s,{name:"hf.ultrafiltration_max",modelValue:o.ultrafiltration_max,"onUpdate:modelValue":e[19]||(e[19]=l=>o.ultrafiltration_max=l),pattern:"\\d*",type:"number",onAutosave:e[20]||(e[20]=l=>_("ultrafiltration_max")),error:i.ultrafiltration_max??a.$page.props.errors["hf.ultrafiltration_max"],placeholder:`max [${r.validators.ultrafiltration_max.min}, ${r.validators.ultrafiltration_max.max}]`},null,8,["modelValue","error","placeholder"])])]),n(s,{label:"dry weight (kg.)",modelValue:o.dry_weight,"onUpdate:modelValue":e[21]||(e[21]=l=>o.dry_weight=l),name:"hf.dry_weight",type:"number",error:a.$page.props.errors["hf.dry_weight"]},null,8,["modelValue","error"]),t("div",null,[e[35]||(e[35]=t("label",{class:"form-label"},"50% Glucose IV volume (ml)",-1)),n(I,{class:U(["grid grid-cols-2 gap-x-2",{"grid-cols-3":o.glucose_50_percent_iv_volume}]),name:"glucose_50_percent_iv_volume",modelValue:o.glucose_50_percent_iv_volume,"onUpdate:modelValue":e[22]||(e[22]=l=>o.glucose_50_percent_iv_volume=l),options:r.glucose_50_percent_iv_volumes,"allow-reset":!0},null,8,["class","modelValue","options"])]),t("div",null,[e[36]||(e[36]=t("label",{class:"form-label"},"20% albumin prime (ml)",-1)),n(I,{class:U(["grid grid-cols-2 gap-x-2",{"grid-cols-3":o.albumin_20_percent_prime}]),name:"albumin_20_percent_prime",modelValue:o.albumin_20_percent_prime,"onUpdate:modelValue":e[23]||(e[23]=l=>o.albumin_20_percent_prime=l),options:r.albumin_20_percent_primes,"allow-reset":!0},null,8,["class","modelValue","options"])]),n(s,{label:"nutrition iv type",modelValue:o.nutrition_iv_type,"onUpdate:modelValue":e[24]||(e[24]=l=>o.nutrition_iv_type=l),name:"hf.nutrition_iv_type",error:a.$page.props.errors["hf.nutrition_iv_type"]},null,8,["modelValue","error"]),n(s,{label:"nutrition iv volume (ml)",modelValue:o.nutrition_iv_volume,"onUpdate:modelValue":e[25]||(e[25]=l=>o.nutrition_iv_volume=l),name:"hf.nutrition_iv_volume",type:"number",pattern:"\\d*",error:a.$page.props.errors["hf.nutrition_iv_volume"]},null,8,["modelValue","error"])]),e[41]||(e[41]=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),e[42]||(e[42]=t("label",{class:"form-label"},"transfusion :",-1)),t("div",X,[n(s,{label:"prc volume (unit)",name:"hf.prc_volume",modelValue:o.prc_volume,"onUpdate:modelValue":e[26]||(e[26]=l=>o.prc_volume=l),type:"number",error:a.$page.props.errors["hf.prc_volume"]},null,8,["modelValue","error"]),n(s,{label:"ffp volume (ml)",name:"hf.ffp_volume",modelValue:o.ffp_volume,"onUpdate:modelValue":e[27]||(e[27]=l=>o.ffp_volume=l),type:"number",pattern:"\\d*",error:a.$page.props.errors["hf.ffp_volume"]},null,8,["modelValue","error"]),n(s,{label:"platelet volume (unit)",name:"hf.platelet_volume",modelValue:o.platelet_volume,"onUpdate:modelValue":e[28]||(e[28]=l=>o.platelet_volume=l),type:"number",error:a.$page.props.errors["hf.platelet_volume"]},null,8,["modelValue","error"]),n(s,{label:"other",name:"hf.transfusion_other",modelValue:o.transfusion_other,"onUpdate:modelValue":e[29]||(e[29]=l=>o.transfusion_other=l),error:a.$page.props.errors["hf.transfusion_other"]},null,8,["modelValue","error"])]),o.access_type&&["DLC","Perm cath"].includes(o.access_type)?(d(),u(w,{key:0},[e[37]||(e[37]=t("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),t("div",Y,[n(m,{label:"catheter lock",name:"hf.catheter_lock",options:r.catheter_lock_options,modelValue:o.catheter_lock,"onUpdate:modelValue":e[30]||(e[30]=l=>o.catheter_lock=l),error:a.$page.props.errors["hf.catheter_lock"],"allow-other":"",ref_key:"catheterLockInput",ref:$},null,8,["options","modelValue","error"])])],64)):v("",!0),n(D,{placeholder:C(p).placeholder,ref_key:"selectOtherInput",ref:f,onClosed:e[31]||(e[31]=l=>C(O)(l,!0))},null,8,["placeholder"])],64))}};export{se as default};
