import{_ as w,h as s,c as n,b as e,y as O,r as H,v as B,l as N,o as q,d as c,g as b,F as l,m as f,u as i,t as o,q as k,e as a,K as d,k as p,f as g,B as A}from"./app-dd899f9b.js";import{_ as D}from"./SearchIndex-6efad917.js";import{I as $}from"./IconDoubleRight-8fbe9ada.js";import{I as M}from"./IconUserMd-37f0be69.js";import{_ as E}from"./PaginationNav-14c25dce.js";import"./pickBy-f412edde.js";import"./throttle-15eef837.js";const S={},F={viewBox:"0 0 576 512"},P=e("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},null,-1),K=[P];function U(r,u){return s(),n("svg",F,K)}const V=w(S,[["render",U]]),G={},J={viewBox:"0 0 448 512"},Q=e("path",{fill:"currentColor",d:"M336 292v24c0 6.6-5.4 12-12 12h-76v76c0 6.6-5.4 12-12 12h-24c-6.6 0-12-5.4-12-12v-76h-76c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h76v-76c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v76h76c6.6 0 12 5.4 12 12zm112-180v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},null,-1),W=[Q];function X(r,u){return s(),n("svg",J,W)}const z=w(G,[["render",X]]),Y={},Z={viewBox:"0 0 576 512"},R=e("path",{fill:"currentColor",d:"M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75 .7 2.8 5.2 2.8 6 0 14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z"},null,-1),tt=[R];function et(r,u){return s(),n("svg",Z,tt)}const L=w(Y,[["render",et]]),st={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},nt={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},ct={class:"w-full whitespace-nowrap"},ot={class:"text-left font-semibold text-complement"},rt=["textContent","colspan"],lt={key:0,class:"px-6 py-4 border-t"},it={class:""},at={key:1,class:"px-6 py-4 border-t"},dt={class:"flex items-center justify-between"},_t=["innerHTML"],ut=["innerHTML"],ht=["innerHTML"],mt=["textContent"],ft={class:"border-t"},pt={class:"action-icon"},yt={class:"md:hidden"},xt={class:"flex justify-between items-center my-2 px-2"},vt={class:"my-2 p-2 bg-gray-100 rounded space-y-2"},bt={key:0,class:"flex justify-end"},kt={class:"font-semibold text-complement text-xs flex items-center"},wt={class:"block italic truncate"},Ct={key:1,class:"flex justify-center items-center h-12"},Ht={key:1},gt={class:"flex items-center justify-between"},$t=["innerHTML"],Mt={class:"font-semibold text-complement text-xs flex items-center"},Vt={class:"block italic truncate"},zt={class:"flex items-center justify-between"},Lt=["textContent"],jt={class:"flex items-center"},Tt=["textContent"],It=e("template",null,null,-1),St={__name:"CaseIndex",props:{cases:{type:Object,required:!0},configs:{type:Object,required:!0},filters:{type:Object,required:!0},routes:{type:Object,required:!0},can:{type:Object,required:!0}},setup(r){const u=r,j=O(()=>A(()=>import("./SearchAdmission-2ab31cd1.js"),["assets/SearchAdmission-2ab31cd1.js","assets/app-dd899f9b.js","assets/app-34900f54.css","assets/ModalDialog-223ec98a.js","assets/ModalDialog-10546d4c.css","assets/FormInput-56cb1a84.js","assets/SpinnerButton-88430bad.js"])),T=H(null),y=B({hn:null,an:null}),x=N({search:u.filters.search,scope:u.filters.scope}),I=m=>{y.hn=m.hn,y.an=m.an,y.post(u.routes.store)},C=H(null);return q(()=>C.value.focus()),(m,h)=>(s(),n(l,null,[e("div",st,[c(D,{scopes:r.configs.scopes,form:x,onSearchChanged:h[0]||(h[0]=t=>x.search=t),onScopeChanged:h[1]||(h[1]=t=>x.scope=t),ref_key:"searchInput",ref:C},null,8,["scopes","form"]),r.can.create?(s(),n("button",{key:0,class:"btn btn-accent w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:h[2]||(h[2]=t=>m.$refs.searchAdmission.open())}," Create New Case ")):b("",!0)]),e("div",nt,[e("table",ct,[e("tr",ot,[(s(),n(l,null,f(["HN","Name","Status","On","Type","Order","MD"],t=>e("th",{class:"px-6 pt-6 pb-4",key:t,textContent:o(t),colspan:t==="MD"?2:1},null,8,rt)),64))]),(s(!0),n(l,null,f(r.cases.data,(t,v)=>(s(),n("tr",{class:"focus-within:bg-primary-darker",key:v},[(s(),n(l,null,f(["hn","patient_name","case_status","date_note","dialysis_type","status","md"],_=>(s(),n(l,{key:_},[_==="date_note"?(s(),n("td",lt,[e("span",{class:k(["inline-flex h-6 w-6 mr-2 rounded-full items-center justify-center text-sm italic",{"text-complement bg-primary-darker":t.dialysis_at==="in","text-primary bg-complement":t.dialysis_at==="out"}])},o(t.dialysis_at),3),e("span",it,o(t.date_note),1)])):_==="status"?(s(),n("td",at,[e("div",dt,[t.can.edit_order?(s(),n(l,{key:0},[e("span",{innerHTML:t[_]},null,8,_t),c(i(d),{href:t.routes.edit_order,class:"action-icon"},{default:a(()=>[c(V,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):t.can.view_order?(s(),n(l,{key:1},[e("span",{innerHTML:t[_]},null,8,ut),c(i(d),{href:t.routes.view_order,class:"action-icon"},{default:a(()=>[c(L,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):t.can.create_order?(s(),p(i(d),{key:2,href:t.routes.create_order,class:"action-icon"},{default:a(()=>[c(z,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",{key:3,innerHTML:t[_]},null,8,ht))])])):(s(),n("td",{key:2,class:"px-6 py-4 border-t",textContent:o(t[_])},null,8,mt))],64))),64)),e("td",ft,[c(i(d),{class:"px-4 py-2 flex items-center",href:t.routes.edit},{default:a(()=>[e("span",pt,[c($,{class:"w-4 h-4"})])]),_:2},1032,["href"])])]))),128))])]),e("div",yt,[(s(!0),n(l,null,f(r.cases.data,(t,v)=>(s(),n("div",{class:"bg-white rounded shadow my-4 p-4",key:v},[e("div",xt,[e("div",null," HN: "+o(t.hn)+" "+o(t.patient_name),1),c(i(d),{href:t.routes.edit,class:"action-icon-mobile"},{default:a(()=>[c($,{class:"w-4 h-4"})]),_:2},1032,["href"])]),e("div",vt,[t.case_status!=="active"?(s(),n(l,{key:0},[t.md?(s(),n("div",bt,[e("p",kt,[c(M,{class:"h-3 w-3 mr-1"}),e("span",wt,o(t.md),1)])])):b("",!0),e("p",{class:k(["text-center",{"pb-4":t.md}])},o(t.case_status),3)],64)):t.date_note?(s(),n(l,{key:2},[e("div",gt,[e("span",{innerHTML:t.status},null,8,$t),e("p",Mt,[c(M,{class:"h-3 w-3 mr-1"}),e("span",Vt,o(t.md),1)])]),e("div",zt,[e("p",null,[g(" On : "),e("span",{class:"text-complement font-semibold",textContent:o(t.date_note)},null,8,Lt),e("span",{class:k(["text-sm italic ml-1",{"text-accent":t.dialysis_at==="in","text-complement":t.dialysis_at==="out"}])},o(t.dialysis_at),3)]),e("p",jt,[g(" Type : "),e("span",{class:"text-complement font-semibold",textContent:o(t.dialysis_type)},null,8,Tt),t.can.edit_order?(s(),p(i(d),{key:0,href:t.routes.edit_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:a(()=>[c(V,{class:"w-4 h-4"})]),_:2},1032,["href"])):t.can.view_order?(s(),p(i(d),{key:1,href:t.routes.view_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:a(()=>[c(L,{class:"w-4 h-4"})]),_:2},1032,["href"])):b("",!0)])]),It],64)):(s(),n("div",Ct,[t.can.create_order?(s(),p(i(d),{key:0,href:t.routes.create_order,class:"p-2 rounded-full bg-primary-darker text-accent"},{default:a(()=>[c(z,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",Ht,o(t.case_status),1))]))])]))),128))]),c(E,{links:r.cases.links},null,8,["links"]),c(i(j),{ref_key:"searchAdmission",ref:T,onConfirmed:I,mode:"hn","service-endpoint":r.routes.serviceEndpoint},null,8,["service-endpoint"])],64))}};export{St as default};
