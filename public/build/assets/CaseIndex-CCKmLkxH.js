const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SearchAdmission-D-q13C2j.js","assets/app-BHxCmSTL.js","assets/app-CTXxCQi-.css","assets/ModalDialog-DG2-_w7O.js","assets/ModalDialog-D8Qet6-I.css","assets/FormInput-Bmc_f8ip.js","assets/SpinnerButton-CTMW6H8m.js"])))=>i.map(i=>d[i]);
import{_ as C,h as s,c as n,b as t,r as H,T as B,k as D,o as S,d as l,g as w,F as d,l as y,u as m,t as i,p as g,e as u,z as _,j as x,f as V,E as A,G as E}from"./app-BHxCmSTL.js";import{_ as M}from"./SearchIndex-DSSsc7Lu.js";import{I as z}from"./IconDoubleRight-CLr9ej8J.js";import{I as L}from"./IconUserMd-CSVeDa7H.js";import{_ as q}from"./PaginationNav-BN6BaSqQ.js";import{_ as j}from"./FormSelect-BQ4Fx2zW.js";import"./pickBy-bsbRKttS.js";import"./throttle-_rxHMDc7.js";const F={},P={viewBox:"0 0 576 512"};function U(r,a){return s(),n("svg",P,a[0]||(a[0]=[t("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},null,-1)]))}const T=C(F,[["render",U]]),G={},J={viewBox:"0 0 448 512"};function K(r,a){return s(),n("svg",J,a[0]||(a[0]=[t("path",{fill:"currentColor",d:"M336 292v24c0 6.6-5.4 12-12 12h-76v76c0 6.6-5.4 12-12 12h-24c-6.6 0-12-5.4-12-12v-76h-76c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h76v-76c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v76h76c6.6 0 12 5.4 12 12zm112-180v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},null,-1)]))}const $=C(G,[["render",K]]),Q={},W={viewBox:"0 0 576 512"};function X(r,a){return s(),n("svg",W,a[0]||(a[0]=[t("path",{fill:"currentColor",d:"M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75 .7 2.8 5.2 2.8 6 0 14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z"},null,-1)]))}const I=C(Q,[["render",X]]),Y={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},Z={class:"hidden lg:flex lg:gap-x-2"},R={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},ee={class:"w-full whitespace-nowrap"},te={class:"text-left font-semibold text-complement"},se=["textContent","colspan"],ne={key:0,class:"px-6 py-4 border-t"},oe={class:""},le={key:1,class:"px-6 py-4 border-t"},re={class:"flex items-center justify-between"},ie=["innerHTML"],ae=["innerHTML"],ce=["innerHTML"],de=["textContent"],me={class:"border-t"},ue={class:"action-icon"},_e={class:"md:hidden"},he={class:"flex justify-between items-center my-2 px-2"},fe={class:"my-2 p-2 bg-gray-100 rounded space-y-2"},pe={key:0,class:"flex justify-end"},ye={class:"font-semibold text-complement text-xs flex items-center"},xe={class:"block italic truncate"},ve={key:1,class:"flex justify-center items-center h-12"},be={key:1},ke={class:"flex items-center justify-between"},we=["innerHTML"],ge={class:"font-semibold text-complement text-xs flex items-center"},Ce={class:"block italic truncate"},He={class:"flex items-center justify-between"},Ve=["textContent"],Me={class:"flex items-center"},ze=["textContent"],De={__name:"CaseIndex",props:{cases:{type:Object,required:!0},configs:{type:Object,required:!0},filters:{type:Object,required:!0},routes:{type:Object,required:!0},can:{type:Object,required:!0}},setup(r){const a=A(()=>E(()=>import("./SearchAdmission-D-q13C2j.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),f=r,O=H(null),v=B({hn:null,an:null}),c=D({search:f.filters.search,scope:f.filters.scope,md:f.filters.md}),N=p=>{v.hn=p.hn,v.an=p.an,v.post(f.routes.store)},b=H(null);return S(()=>b.value.focus()),(p,o)=>(s(),n(d,null,[t("div",Y,[l(M,{class:"lg:hidden",scopes:r.configs.scopes,form:c,onSearchChanged:o[0]||(o[0]=e=>c.search=e),onScopeChanged:o[1]||(o[1]=e=>c.scope=e),ref_key:"searchInput",ref:b},null,8,["scopes","form"]),t("div",Z,[l(M,{scopes:r.configs.scopes,form:c,onSearchChanged:o[2]||(o[2]=e=>c.search=e),onScopeChanged:o[3]||(o[3]=e=>c.scope=e),ref_key:"searchInput",ref:b},null,8,["scopes","form"]),l(j,{class:"hidden lg:block lg:w-auto",modelValue:c.md,"onUpdate:modelValue":o[4]||(o[4]=e=>c.md=e),name:"md",options:r.configs.mdOptions,placeholder:"Filter by MD"},null,8,["modelValue","options"])]),r.can.create?(s(),n("button",{key:0,class:"btn btn-accent w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:o[5]||(o[5]=e=>p.$refs.searchAdmission.open())}," Create New Case ")):w("",!0)]),l(j,{class:"mb-4 lg:hidden",modelValue:c.md,"onUpdate:modelValue":o[6]||(o[6]=e=>c.md=e),name:"md",options:r.configs.mdOptions,placeholder:"Filter by MD"},null,8,["modelValue","options"]),t("div",R,[t("table",ee,[t("thead",null,[t("tr",te,[(s(),n(d,null,y(["HN","Name","Status","On","Type","Order","MD"],e=>t("th",{class:"px-6 pt-6 pb-4",key:e,textContent:i(e),colspan:e==="MD"?2:1},null,8,se)),64))])]),(s(!0),n(d,null,y(r.cases.data,(e,k)=>(s(),n("tr",{class:"focus-within:bg-primary-darker",key:k},[(s(),n(d,null,y(["hn","patient_name","case_status","date_note","dialysis_type","status","md"],h=>(s(),n(d,{key:h},[h==="date_note"?(s(),n("td",ne,[t("span",{class:g(["inline-flex h-6 w-6 mr-2 rounded-full items-center justify-center text-sm italic",{"text-complement bg-primary-darker":e.dialysis_at==="in","text-primary bg-complement":e.dialysis_at==="out"}])},i(e.dialysis_at),3),t("span",oe,i(e.date_note),1)])):h==="status"?(s(),n("td",le,[t("div",re,[e.can.edit_order?(s(),n(d,{key:0},[t("span",{innerHTML:e[h]},null,8,ie),l(m(_),{href:e.routes.edit_order,class:"action-icon"},{default:u(()=>[l(T,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):e.can.view_order?(s(),n(d,{key:1},[t("span",{innerHTML:e[h]},null,8,ae),l(m(_),{href:e.routes.view_order,class:"action-icon"},{default:u(()=>[l(I,{class:"w-4 h-4"})]),_:2},1032,["href"])],64)):e.can.create_order?(s(),x(m(_),{key:2,href:e.routes.create_order,class:"action-icon"},{default:u(()=>[l($,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",{key:3,innerHTML:e[h]},null,8,ce))])])):(s(),n("td",{key:2,class:"px-6 py-4 border-t",textContent:i(e[h])},null,8,de))],64))),64)),t("td",me,[l(m(_),{class:"px-4 py-2 flex items-center",href:e.routes.edit},{default:u(()=>[t("span",ue,[l(z,{class:"w-4 h-4"})])]),_:2},1032,["href"])])]))),128))])]),t("div",_e,[(s(!0),n(d,null,y(r.cases.data,(e,k)=>(s(),n("div",{class:"bg-white rounded shadow my-4 p-4",key:k},[t("div",he,[t("div",null," HN: "+i(e.hn)+" "+i(e.patient_name),1),l(m(_),{href:e.routes.edit,class:"action-icon-mobile"},{default:u(()=>[l(z,{class:"w-4 h-4"})]),_:2},1032,["href"])]),t("div",fe,[e.case_status!=="active"?(s(),n(d,{key:0},[e.md?(s(),n("div",pe,[t("p",ye,[l(L,{class:"h-3 w-3 mr-1"}),t("span",xe,i(e.md),1)])])):w("",!0),t("p",{class:g(["text-center",{"pb-4":e.md}])},i(e.case_status),3)],64)):e.date_note?(s(),n(d,{key:2},[t("div",ke,[t("span",{innerHTML:e.status},null,8,we),t("p",ge,[l(L,{class:"h-3 w-3 mr-1"}),t("span",Ce,i(e.md),1)])]),t("div",He,[t("p",null,[o[7]||(o[7]=V(" On : ")),t("span",{class:"text-complement font-semibold",textContent:i(e.date_note)},null,8,Ve),t("span",{class:g(["text-sm italic ml-1",{"text-accent":e.dialysis_at==="in","text-complement":e.dialysis_at==="out"}])},i(e.dialysis_at),3)]),t("p",Me,[o[8]||(o[8]=V(" Type : ")),t("span",{class:"text-complement font-semibold",textContent:i(e.dialysis_type)},null,8,ze),e.can.edit_order?(s(),x(m(_),{key:0,href:e.routes.edit_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:u(()=>[l(T,{class:"w-4 h-4"})]),_:2},1032,["href"])):e.can.view_order?(s(),x(m(_),{key:1,href:e.routes.view_order,class:"ml-2 p-2 rounded-full bg-primary-darker text-accent"},{default:u(()=>[l(I,{class:"w-4 h-4"})]),_:2},1032,["href"])):w("",!0)])]),o[9]||(o[9]=t("template",null,null,-1))],64)):(s(),n("div",ve,[e.can.create_order?(s(),x(m(_),{key:0,href:e.routes.create_order,class:"p-2 rounded-full bg-primary-darker text-accent"},{default:u(()=>[l($,{class:"w-4 h-4"})]),_:2},1032,["href"])):(s(),n("span",be,i(e.case_status),1))]))])]))),128))]),l(q,{links:r.cases.links},null,8,["links"]),l(m(a),{ref_key:"searchAdmission",ref:O,onConfirmed:N,mode:"hn","service-endpoint":r.routes.serviceEndpoint},null,8,["service-endpoint"])],64))}};export{De as default};
