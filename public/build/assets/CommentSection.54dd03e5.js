import{_ as u}from"./FormTextarea.05ecab2e.js";import{r as b,h as _,o as i,c,F as f,v as y,b as l,t as d,d as p,u as s,w as g,e as x}from"./app.dfcfe5ff.js";import{_ as v}from"./SpinnerButton.2848ad30.js";const h=["innerHTML"],V={class:"flex justify-end text-sm"},k={class:"italic text-complement"},w={class:"ml-1 text-accent"},S=x(" POST "),C={__name:"CommentSection",props:{configs:{type:Object,required:!0}},setup(r){const o=r,m=b([]);window.axios.post(o.configs.routes.index,{commentable_type:o.configs.commentable_type,commentable_id:o.configs.commentable_id}).then(n=>m.value=n.data).catch(n=>console.log(n));const t=_({commentable_type:o.configs.commentable_type,commentable_id:o.configs.commentable_id,body:null});return(n,a)=>(i(),c("div",null,[(i(!0),c(f,null,y(m.value,e=>(i(),c("div",{key:e.id,class:"mb-4 md:mb-8"},[l("div",{class:"p-2 pb-4 md:p-4 md:pb-8 bg-primary-darker text-complement rounded",innerHTML:e.body},null,8,h),l("div",V,[l("span",k,d(e.at)+" by",1),l("span",w,d(e.commentator),1)])]))),128)),p(u,{name:"body",modelValue:s(t).body,"onUpdate:modelValue":a[0]||(a[0]=e=>s(t).body=e)},null,8,["modelValue"]),p(v,{spin:s(t).processing,class:"btn btn-accent mt-4 w-full",onClick:a[1]||(a[1]=e=>{s(t).post(r.configs.routes.store,{preserveScroll:!0,preserveState:!1,onFinish:()=>{s(t).processing=!1}})}),disabled:!s(t).body},{default:g(()=>[S]),_:1},8,["spin","disabled"])]))}};export{C as _};
