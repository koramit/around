import{_,r as x,o as y,n as k,a as V,T as h,c as u,b as t,d as r,u as n,w as I,e as v,f as p,g as L,t as f,h as g}from"./app-RCW056iM.js";import{_ as N}from"./logo-DsX578f4.js";import{_ as w}from"./FormInput-DTViGuGV.js";import{_ as C}from"./SpinnerButton-Q4u_tiBh.js";import{I as T}from"./IconLine-0MlVlbIB.js";const j={class:"flex flex-col justify-center items-center w-full min-h-screen"},B={class:"mt-4 px-4 py-8 w-80 bg-white rounded shadow -translate-y-20"},E=["href"],F={class:"text-sm text-red-400 mt-2"},U={__name:"LoginForm",props:{layout:null,links:{type:Object,required:!0}},setup(l){const i=l,d=x(null);let m;const b=parseInt(document.querySelector("meta[name=session-lifetime-seconds]").content)*1e3;y(()=>{k(()=>{d.value.focus()}),m=setInterval(function(){window.axios.post(i.links.login_store,{foo:"bar"}).catch(function(o){o.response.status===419&&window.location.reload()})},b*.95)}),V(()=>clearInterval(m));const e=h({login:null,password:null,remember:!0}),c=()=>{e.transform(o=>({login:o.login.toLowerCase(),password:o.password,remember:o.remember?"on":""})).post(i.links.login_store,{replace:!0,onFinish:()=>{e.processing=!1}})};return(o,s)=>(g(),u("div",j,[s[4]||(s[4]=t("div",{class:"w-40 h-40 z-10 border-primary border-4 rounded-full floating-logo"},[t("img",{src:N,alt:"around logo"})],-1)),t("div",B,[s[3]||(s[3]=t("span",{class:"block text-xl text-accent mt-12 text-center"},"around ðŸ¤²ðŸ» about ðŸ™ŒðŸ» arrange",-1)),r(w,{class:"mt-8",label:o.__("login"),name:"login",modelValue:n(e).login,"onUpdate:modelValue":s[0]||(s[0]=a=>n(e).login=a),error:n(e).errors.login,ref_key:"loginInput",ref:d},null,8,["label","modelValue","error"]),r(w,{class:"mt-2",type:"password",label:o.__("password"),name:"password",modelValue:n(e).password,"onUpdate:modelValue":s[1]||(s[1]=a=>n(e).password=a),error:n(e).errors.password,onKeydown:I(c,["enter"])},null,8,["label","modelValue","error"]),r(C,{spin:n(e).processing,class:"btn-accent w-full mt-8",onClick:c,disabled:!n(e).login||!n(e).password},{default:v(()=>[p(f(o.__("ENTER")),1)]),_:1},8,["spin","disabled"]),l.links.line_login?(g(),u("a",{key:0,class:"flex justify-center items-center gap-x-2 btn btn-accent bg-line w-full mt-8",href:l.links.line_login},[r(T,{class:"w-6 h-6 text-white"}),s[2]||(s[2]=p(" LOGIN "))],8,E)):L("",!0),t("p",F,f(o.$page.props.errors.notice),1)])]))}},S=_(U,[["__scopeId","data-v-9a3c5664"]]);export{S as default};
