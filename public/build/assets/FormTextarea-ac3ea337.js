import{V as L,r as k,o as V,h as w,c as x,t as F,g as H,b as W,q as R}from"./app-dd899f9b.js";var f=new Map;function Y(e){var n=f.get(e);n&&n.destroy()}function C(e){var n=f.get(e);n&&n.update()}var c=null;typeof window>"u"?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,n){return e&&Array.prototype.forEach.call(e.length?e:[e],function(v){return function(t){if(t&&t.nodeName&&t.nodeName==="TEXTAREA"&&!f.has(t)){var r,y=null,o=window.getComputedStyle(t),h=(r=t.value,function(){p({testForHeightReduction:r===""||!t.value.startsWith(r),restoreTextAlign:null}),r=t.value}),l=function(u){t.removeEventListener("autosize:destroy",l),t.removeEventListener("autosize:update",i),t.removeEventListener("input",h),window.removeEventListener("resize",i),Object.keys(u).forEach(function(s){return t.style[s]=u[s]}),f.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",l),t.addEventListener("autosize:update",i),t.addEventListener("input",h),window.addEventListener("resize",i),t.style.overflowX="hidden",t.style.wordWrap="break-word",f.set(t,{destroy:l,update:i}),i()}function p(u){var s,d,b=u.restoreTextAlign,g=b===void 0?null:b,E=u.testForHeightReduction,N=E===void 0||E,S=o.overflowY;if(t.scrollHeight!==0&&(o.resize==="vertical"?t.style.resize="none":o.resize==="both"&&(t.style.resize="horizontal"),N&&(s=function(a){for(var A=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&A.push([a.parentNode,a.parentNode.scrollTop]),a=a.parentNode;return function(){return A.forEach(function(T){var m=T[0],B=T[1];m.style.scrollBehavior="auto",m.scrollTop=B,m.style.scrollBehavior=null})}}(t),t.style.height=""),d=o.boxSizing==="content-box"?t.scrollHeight-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)):t.scrollHeight+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),o.maxHeight!=="none"&&d>parseFloat(o.maxHeight)?(o.overflowY==="hidden"&&(t.style.overflow="scroll"),d=parseFloat(o.maxHeight)):o.overflowY!=="hidden"&&(t.style.overflow="hidden"),t.style.height=d+"px",g&&(t.style.textAlign=g),s&&s(),y!==d&&(t.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),y=d),S!==o.overflow&&!g)){var z=o.textAlign;o.overflow==="hidden"&&(t.style.textAlign=z==="start"?"end":"start"),p({restoreTextAlign:z,testForHeightReduction:!0})}}function i(){p({testForHeightReduction:!0,restoreTextAlign:null})}}(v)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],Y),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],C),e});var X=c;const q={class:"w-full"},M=["for"],$=["id","name","type","placeholder","pattern","readonly","value"],j={key:1,class:"text-red-700 mt-2 text-sm"},I={__name:"FormTextarea",props:{modelValue:{type:String,default:""},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""}},emits:["autosave","update:modelValue"],setup(e,{expose:n,emit:v}){const t=L(()=>v("autosave"),2500),r=k(null);V(()=>{X(r.value)});const y=()=>{v("update:modelValue",r.value.value),t()};return n({focus:()=>r.value.focus()}),(h,l)=>(w(),x("div",q,[e.label?(w(),x("label",{key:0,class:"form-label",for:e.name},F(e.label)+" :",9,M)):H("",!0),W("textarea",{id:e.name,name:e.name,ref_key:"textarea",ref:r,onInput:y,onChange:l[0]||(l[0]=p=>h.$emit("autosave")),type:e.type,placeholder:e.placeholder,pattern:e.pattern,readonly:e.readonly,value:e.modelValue,class:R(["form-input form-scroll-mt",{"border-red-400 text-red-400":e.error}])},null,42,$),e.error?(w(),x("div",j,F(e.error),1)):H("",!0)]))}};export{I as _};
