import{B as b,C as q,r as G,o as m,c as p,b as d,d as r,k as v,w as F,T as L,ac as j,l as P,u as S,F as E,e as T}from"./app.26e6ccba.js";import{_ as x}from"./FormCheckbox.51f93103.js";import{_ as t}from"./FormInput.d54a4324.js";import{_ as R}from"./FormTextarea.5a48039f.js";import{_ as u}from"./FormSelect.128f4139.js";import{_ as $}from"./FormRadio.a6fc6125.js";import{u as H,_ as W}from"./FormSelectOther.fba608d0.js";import{I as J}from"./IconCopy.31c60c06.js";import"./debounce.00fb09e9.js";import"./ModalDialog.734610f4.js";const K={class:"mt-6 md:mt-12 xl:mt-24 flex justify-between items-center",id:"prescription"},M=d("span",{class:"form-label !mb-0 text-lg italic text-complement"},"SLEDD Prescription",-1),Q=T(" Copy previous order "),X=d("hr",{class:"my-4 border-b border-bitter-theme-light"},null,-1),Y={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},Z=d("label",{class:"form-label"},"duration (hrs.)",-1),N={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},ee=d("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),le={class:"grid md:grid-cols-2 gap-2 xl:gap-8 my-2 md:my-4 xl:mt-8"},oe={key:0,class:"grid gap-2 md:gap-4 xl:gap-8 mt-2 md:mt-4 xl:mt-8"},ae=d("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),re={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},se={key:0,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},de={key:1},ne={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},te={key:2,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},ie={key:3,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},ue={key:4,class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4 my-2 md:my-4 xl:my-8"},me=d("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),pe={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},_e=d("label",{for:"",class:"form-label"},"uf (ml.)",-1),ge={class:"grid gap-2 md:grid-cols-2"},fe=d("label",{class:"form-label"},"50% Glucose IV volume (ml)",-1),ye=d("label",{class:"form-label"},"20% albumin prime (ml)",-1),ce=d("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1),Ve=d("label",{class:"form-label"},"transfusion :",-1),be={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},Ie={__name:"SLEDDForm",props:{modelValue:{type:Object,required:!0},formConfigs:{type:Object,required:!0}},emits:["update:modelValue","autosave","copyPreviousOrder"],setup(h,{emit:U}){var C,A;const w=h,e=b({...w.modelValue}),f={anticoagulant:(C=e.anticoagulant)!=null?C:null,access_type:(A=e.access_type)!=null?A:null};q(()=>e,a=>{a.anticoagulant!==f.anticoagulant&&(a.anticoagulant_none_drip_via_peripheral_iv=!1,a.anticoagulant_none_nss_200ml_flush_q_hour=!1,a.heparin_loading_dose=null,a.heparin_maintenance_dose=null,a.enoxaparin_dose=null,a.fondaparinux_bolus_dose=null,a.tinzaparin_dose=null,a.anticoagulant_other=null,f.anticoagulant=a.anticoagulant),(a.access_type==="pending"||a.access_type==="Remove"||["DLC","Perm cath"].includes(a.access_type)&&!["DLC","Perm cath"].includes(f.access_type)||["AVF","AVG"].includes(a.access_type)&&!["AVF","AVG"].includes(f.access_type))&&(a.access_site_coagulant="",f.access_type=a.access_type),a.sodium_profile||(a.sodium_profile_start=null,a.sodium_profile_end=null),U("update:modelValue",a),U("autosave")},{deep:!0});const s=b({...w.formConfigs});e.anticoagulant&&s.anticoagulants.findIndex(a=>a.value===e.anticoagulant)===-1&&s.anticoagulants.push({value:e.anticoagulant,label:e.anticoagulant});const k=G(null);q(()=>e.anticoagulant,a=>{a.toLowerCase()==="other"&&(V.placeholder="Other anticoagulant",V.configs=s.anticoagulants,V.input=k.value,z.value.open())});const{selectOtherInput:z,selectOther:V,selectOtherClosed:B}=H(),i=b({heparin_loading_dose:null,heparin_maintenance_dose:null,enoxaparin_dose:null,tinzaparin_dose:null,ultrafiltration:null}),_=a=>{let l=s.validators[a];const y=l.type==="integer"?parseInt(e[a]):parseFloat(e[a]);y<l.min||y>l.max?(i[a]=`${e[a]} could not be saved. Accept range [${l.min}, ${l.max}].`,e[a]=null):i[a]=""};return(a,l)=>{var y,I,O;return m(),p(E,null,[d("h2",K,[M,h.formConfigs.can.copy?(m(),p("button",{key:0,class:"flex items-center text-sm text-accent",onClick:l[0]||(l[0]=o=>a.$emit("copyPreviousOrder"))},[r(J,{class:"w-3 h-3 mr-1"}),Q])):v("",!0)]),X,d("div",Y,[d("div",null,[Z,r($,{class:"grid grid-cols-2 gap-x-2",name:"sledd.duration",error:a.$page.props.errors["sledd.duration"],modelValue:e.duration,"onUpdate:modelValue":l[1]||(l[1]=o=>e.duration=o),options:s.sledd_durations},null,8,["error","modelValue","options"])])]),d("div",N,[r(u,{label:"access type",modelValue:e.access_type,"onUpdate:modelValue":l[2]||(l[2]=o=>e.access_type=o),name:"sledd.access_type",options:s.access_types,error:a.$page.props.errors["sledd.access_type"]},null,8,["modelValue","options","error"]),r(u,{label:"access site coagulant",modelValue:e.access_site_coagulant,"onUpdate:modelValue":l[3]||(l[3]=o=>e.access_site_coagulant=o),name:"sledd.access_site_coagulant",options:e.access_type&&e.access_type.startsWith("AV")?s.av_access_sites:s.non_av_access_sites,disabled:!e.access_type||e.access_type==="pending",error:a.$page.props.errors["sledd.access_site_coagulant"]},null,8,["modelValue","options","disabled","error"]),r(u,{modelValue:e.dialyzer,"onUpdate:modelValue":l[4]||(l[4]=o=>e.dialyzer=o),name:"sledd.dialyzer",label:"dialyzer",options:s.sledd_dialyzers,error:a.$page.props.errors["sledd.dialyzer"]},null,8,["modelValue","options","error"]),r(u,{modelValue:e.dialysate,"onUpdate:modelValue":l[5]||(l[5]=o=>e.dialysate=o),name:"sledd.dialysate",label:"dialysate",options:s.dialysates,error:a.$page.props.errors["sledd.dialysate"]},null,8,["modelValue","options","error"]),r(u,{modelValue:e.blood_flow_rate,"onUpdate:modelValue":l[6]||(l[6]=o=>e.blood_flow_rate=o),name:"sledd.blood_flow_rate",options:s.sledd_blood_flow_rates,label:"blood flow rate (ml/min)",error:a.$page.props.errors["sledd.blood_flow_rate"]},null,8,["modelValue","options","error"]),r(u,{"model-value":e.dialysate_flow_rate,"onUpdate:model-value":l[7]||(l[7]=o=>e.dialysate_flow_rate=o),"model-checkbox":e.reverse_dialysate_flow,"onUpdate:model-checkbox":l[8]||(l[8]=o=>e.reverse_dialysate_flow=o),options:s.sledd_dialysate_flow_rates,name:"sledd.dialysate_flow_rate",label:"dialysate flow (ml/min)","switch-label":"Reverse flow",error:a.$page.props.errors["sledd.dialysate_flow_rate"]},null,8,["model-value","model-checkbox","options","error"]),r(u,{modelValue:e.dialysate_temperature,"onUpdate:modelValue":l[9]||(l[9]=o=>e.dialysate_temperature=o),name:"sledd.dialysate_temperature",options:s.dialysate_temperatures,label:"dialysate temperature (\u2103)",error:a.$page.props.errors["sledd.dialysate_temperature"]},null,8,["modelValue","options","error"])]),ee,d("div",le,[d("div",null,[r(t,{label:"sodium",name:"sledd.sodium",modelValue:e.sodium,"onUpdate:modelValue":l[10]||(l[10]=o=>e.sodium=o),type:"number",pattern:"\\d*",onAutosave:l[11]||(l[11]=o=>_("sodium")),error:(y=i.sodium)!=null?y:a.$page.props.errors["sledd.sodium"],placeholder:`[${s.validators.sodium.min}, ${s.validators.sodium.max}]`},null,8,["modelValue","error","placeholder"]),r(x,{class:"mt-2 md:mt-4 xl:mt-8",label:"Sodium profile",name:"sledd.sodium_profile",modelValue:e.sodium_profile,"onUpdate:modelValue":l[12]||(l[12]=o=>e.sodium_profile=o),toggler:!0},null,8,["modelValue"]),r(L,{name:"slide-fade"},{default:F(()=>{var o,c;return[e.sodium_profile?(m(),p("div",oe,[r(t,{label:"start",name:"sledd.sodium_profile_start",modelValue:e.sodium_profile_start,"onUpdate:modelValue":l[13]||(l[13]=g=>e.sodium_profile_start=g),type:"number",pattern:"\\d*",error:(o=i.sodium_profile_start)!=null?o:a.$page.props.errors["sledd.sodium_profile_start"]},null,8,["modelValue","error"]),r(t,{label:"end",name:"sledd.sodium_profile_end",modelValue:e.sodium_profile_end,"onUpdate:modelValue":l[14]||(l[14]=g=>e.sodium_profile_end=g),type:"number",pattern:"\\d*",error:(c=i.sodium_profile_end)!=null?c:a.$page.props.errors["sledd.sodium_profile_end"]},null,8,["modelValue","error"])])):v("",!0)]}),_:1})]),r(u,{modelValue:e.bicarbonate,"onUpdate:modelValue":l[15]||(l[15]=o=>e.bicarbonate=o),name:"sledd.bicarbonate",label:"bicarbonate",options:s.bicarbonates,error:a.$page.props.errors["sledd.bicarbonate"]},null,8,["modelValue","options","error"])]),ae,d("div",re,[r(u,{modelValue:e.anticoagulant,"onUpdate:modelValue":l[16]||(l[16]=o=>e.anticoagulant=o),name:"sledd.anticoagulant",label:"anticoagulant",options:s.anticoagulants,ref_key:"anticoagulantInput",ref:k,error:a.$page.props.errors["sledd.anticoagulant"]},null,8,["modelValue","options","error"])]),r(L,{name:"slide-fade"},{default:F(()=>{var o,c,g,D;return[e.anticoagulant==="none"?(m(),p("div",se,[r(x,{label:"anticoagulant drip via peripheral IV",name:"anticoagulant_none_drip_via_peripheral_iv",modelValue:e.anticoagulant_none_drip_via_peripheral_iv,"onUpdate:modelValue":l[17]||(l[17]=n=>e.anticoagulant_none_drip_via_peripheral_iv=n)},null,8,["modelValue"]),r(x,{label:"NSS 200 ml flush q 1 hour",name:"anticoagulant_none_nss_200ml_flush_q_hour",modelValue:e.anticoagulant_none_nss_200ml_flush_q_hour,"onUpdate:modelValue":l[18]||(l[18]=n=>e.anticoagulant_none_nss_200ml_flush_q_hour=n)},null,8,["modelValue"])])):e.anticoagulant==="heparin"?(m(),p("div",de,[d("div",ne,[r(t,{label:"loading dose (iu)",name:"sledd.heparin_loading_dose",modelValue:e.heparin_loading_dose,"onUpdate:modelValue":l[19]||(l[19]=n=>e.heparin_loading_dose=n),type:"number",pattern:"\\d*",onAutosave:l[20]||(l[20]=n=>_("heparin_loading_dose")),error:(o=i.heparin_loading_dose)!=null?o:a.$page.props.errors["sledd.heparin_loading_dose"],placeholder:`[${s.validators.heparin_loading_dose.min}, ${s.validators.heparin_loading_dose.max}] IU`},null,8,["modelValue","error","placeholder"]),r(t,{label:"maintenance dose (iu/hour)",name:"sledd.heparin_maintenance_dose",modelValue:e.heparin_maintenance_dose,"onUpdate:modelValue":l[21]||(l[21]=n=>e.heparin_maintenance_dose=n),type:"number",pattern:"\\d*",onAutosave:l[22]||(l[22]=n=>_("heparin_maintenance_dose")),error:(c=i.heparin_maintenance_dose)!=null?c:a.$page.props.errors["sledd.heparin_maintenance_dose"],placeholder:`[${s.validators.heparin_maintenance_dose.min}, ${s.validators.heparin_maintenance_dose.max}] IU/Hour`},null,8,["modelValue","error","placeholder"])]),r(j,{title:"Duration of maintenance (hours)",message:"DLC/PC uses duration of dialysis. AVF/AVG uses duration of dialysis - 1."})])):e.anticoagulant==="enoxaparin"?(m(),p("div",te,[r(t,{label:"dose (ml)",name:"sledd.enoxaparin_dose",modelValue:e.enoxaparin_dose,"onUpdate:modelValue":l[23]||(l[23]=n=>e.enoxaparin_dose=n),type:"number",onAutosave:l[24]||(l[24]=n=>_("enoxaparin_dose")),error:(g=i.enoxaparin_dose)!=null?g:a.$page.props.errors["sledd.enoxaparin_dose"],placeholder:`[${s.validators.enoxaparin_dose.min}, ${s.validators.enoxaparin_dose.max}] ml`},null,8,["modelValue","error","placeholder"])])):e.anticoagulant==="fondaparinux"?(m(),p("div",ie,[r(u,{label:"bolus dose (iu)",name:"sledd.fondaparinux_bolus_dose",modelValue:e.fondaparinux_bolus_dose,"onUpdate:modelValue":l[25]||(l[25]=n=>e.fondaparinux_bolus_dose=n),options:s.fondaparinux_bolus_doses,error:a.$page.props.errors["sledd.fondaparinux_bolus_dose"]},null,8,["modelValue","options","error"])])):e.anticoagulant==="tinzaparin"?(m(),p("div",ue,[r(t,{label:"dose (iu)",name:"sledd.tinzaparin_dose",modelValue:e.tinzaparin_dose,"onUpdate:modelValue":l[26]||(l[26]=n=>e.tinzaparin_dose=n),type:"number",pattern:"\\d*",onAutosave:l[27]||(l[27]=n=>_("tinzaparin_dose")),error:(D=i.tinzaparin_dose)!=null?D:a.$page.props.errors["sledd.tinzaparin_dose"],placeholder:`[${s.validators.tinzaparin_dose.min}, ${s.validators.tinzaparin_dose.max}] IU`},null,8,["modelValue","error","placeholder"])])):v("",!0)]}),_:1}),me,d("div",pe,[d("div",null,[_e,d("div",ge,[r(t,{name:"sledd.ultrafiltration_min",modelValue:e.ultrafiltration_min,"onUpdate:modelValue":l[28]||(l[28]=o=>e.ultrafiltration_min=o),pattern:"\\d*",type:"number",onAutosave:l[29]||(l[29]=o=>_("ultrafiltration_min")),error:(I=i.ultrafiltration_min)!=null?I:a.$page.props.errors["sledd.ultrafiltration_min"],placeholder:`min [${s.validators.ultrafiltration_min.min}, ${s.validators.ultrafiltration_min.max}]`},null,8,["modelValue","error","placeholder"]),r(t,{name:"sledd.ultrafiltration_max",modelValue:e.ultrafiltration_max,"onUpdate:modelValue":l[30]||(l[30]=o=>e.ultrafiltration_max=o),pattern:"\\d*",type:"number",onAutosave:l[31]||(l[31]=o=>_("ultrafiltration_max")),error:(O=i.ultrafiltration_max)!=null?O:a.$page.props.errors["sledd.ultrafiltration_max"],placeholder:`max [${s.validators.ultrafiltration_max.min}, ${s.validators.ultrafiltration_max.max}]`},null,8,["modelValue","error","placeholder"])])]),r(t,{label:"dry weight (kg.)",modelValue:e.dry_weight,"onUpdate:modelValue":l[32]||(l[32]=o=>e.dry_weight=o),name:"sledd.dry_weight",type:"number",error:a.$page.props.errors["sledd.dry_weight"]},null,8,["modelValue","error"]),d("div",null,[fe,r($,{class:P(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.glucose_50_percent_iv_volume}]),name:"glucose_50_percent_iv_volume",modelValue:e.glucose_50_percent_iv_volume,"onUpdate:modelValue":l[33]||(l[33]=o=>e.glucose_50_percent_iv_volume=o),options:s.glucose_50_percent_iv_volumes,"allow-reset":!0},null,8,["class","modelValue","options"])]),r(u,{modelValue:e.glucose_50_percent_iv_at,"onUpdate:modelValue":l[34]||(l[34]=o=>e.glucose_50_percent_iv_at=o),name:"glucose_50_percent_iv_at",label:"50% glucose iv (at hour)",options:s.glucose_50_percent_iv_at},null,8,["modelValue","options"]),d("div",null,[ye,r($,{class:P(["grid grid-cols-2 gap-x-2",{"grid-cols-3":e.albumin_20_percent_prime}]),name:"albumin_20_percent_prime",modelValue:e.albumin_20_percent_prime,"onUpdate:modelValue":l[35]||(l[35]=o=>e.albumin_20_percent_prime=o),options:s.albumin_20_percent_primes,"allow-reset":!0},null,8,["class","modelValue","options"])]),r(t,{label:"nutrition iv type",modelValue:e.nutrition_iv_type,"onUpdate:modelValue":l[36]||(l[36]=o=>e.nutrition_iv_type=o),name:"sledd.nutrition_iv_type",error:a.$page.props.errors["sledd.nutrition_iv_type"]},null,8,["modelValue","error"]),r(t,{label:"nutrition iv volume (ml)",modelValue:e.nutrition_iv_volume,"onUpdate:modelValue":l[37]||(l[37]=o=>e.nutrition_iv_volume=o),name:"sledd.nutrition_iv_volume",type:"number",pattern:"\\d*",error:a.$page.props.errors["sledd.nutrition_iv_volume"]},null,8,["modelValue","error"])]),ce,Ve,d("div",be,[r(t,{label:"prc volume (unit)",name:"sledd.prc_volume",modelValue:e.prc_volume,"onUpdate:modelValue":l[38]||(l[38]=o=>e.prc_volume=o),type:"number",error:a.$page.props.errors["sledd.prc_volume"]},null,8,["modelValue","error"]),r(t,{label:"ffp volume (ml)",name:"sledd.ffp_volume",modelValue:e.ffp_volume,"onUpdate:modelValue":l[39]||(l[39]=o=>e.ffp_volume=o),type:"number",pattern:"\\d*",error:a.$page.props.errors["sledd.ffp_volume"]},null,8,["modelValue","error"]),r(t,{label:"platelet volume (unit)",name:"sledd.platelet_volume",modelValue:e.platelet_volume,"onUpdate:modelValue":l[40]||(l[40]=o=>e.platelet_volume=o),type:"number",error:a.$page.props.errors["sledd.platelet_volume"]},null,8,["modelValue","error"]),r(t,{label:"other",name:"sledd.transfusion_other",modelValue:e.transfusion_other,"onUpdate:modelValue":l[41]||(l[41]=o=>e.transfusion_other=o),error:a.$page.props.errors["sledd.transfusion_other"]},null,8,["modelValue","error"])]),r(R,{class:"mt-2 md:mt-4 xl:mt-8",label:"note",name:"sledd.remark",error:a.$page.props.errors["sledd.remark"],modelValue:e.remark,"onUpdate:modelValue":l[42]||(l[42]=o=>e.remark=o)},null,8,["error","modelValue"]),r(W,{placeholder:S(V).placeholder,ref_key:"selectOtherInput",ref:z,onClosed:l[43]||(l[43]=o=>S(B)(o,!0))},null,8,["placeholder"])],64)}}};export{Ie as default};
