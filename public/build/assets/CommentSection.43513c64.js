import{_ as u}from"./FormTextarea.d47fc5eb.js";import{r as _,g as f,o as i,c as m,F as b,v as y,a as l,t as p,b as r,u as o,w as g,d as x}from"./app.8a1dfeb0.js";import{_ as v}from"./SpinnerButton.6b0f7629.js";import{_ as V}from"./FormCheckbox.b98b738c.js";const k=["innerHTML"],w={class:"flex justify-end text-sm"},S={class:"italic text-complement"},h={class:"ml-1 text-accent"},F=x(" POST "),C={__name:"CommentSection",props:{configs:{type:Object,required:!0}},setup(d){const n=d,c=_([]);window.axios.post(n.configs.routes.index,{commentable_type:n.configs.commentable_type,commentable_id:n.configs.commentable_id}).then(a=>c.value=a.data).catch(a=>console.log(a));const t=f({commentable_type:n.configs.commentable_type,commentable_id:n.configs.commentable_id,body:null,notify_op:!1});return(a,s)=>(i(),m("div",null,[(i(!0),m(b,null,y(c.value,e=>(i(),m("div",{key:e.id,class:"mb-4 md:mb-8"},[l("div",{class:"p-2 pb-4 md:p-4 md:pb-8 bg-primary-darker text-complement rounded",innerHTML:e.body},null,8,k),l("div",w,[l("span",S,p(e.at)+" by",1),l("span",h,p(e.commentator),1)])]))),128)),r(u,{name:"body",modelValue:o(t).body,"onUpdate:modelValue":s[0]||(s[0]=e=>o(t).body=e)},null,8,["modelValue"]),r(V,{toggler:!0,label:"Notify OP",modelValue:o(t).notify_op,"onUpdate:modelValue":s[1]||(s[1]=e=>o(t).notify_op=e),class:"my-2 md:mt-4"},null,8,["modelValue"]),r(v,{spin:o(t).processing,class:"btn btn-accent mt-4 w-full",onClick:s[2]||(s[2]=e=>{o(t).post(d.configs.routes.store,{preserveScroll:!0,preserveState:!1,onFinish:()=>{o(t).processing=!1}})}),disabled:!o(t).body},{default:g(()=>[F]),_:1},8,["spin","disabled"])]))}};export{C as _};
