import{_ as f}from"./logo-Qbkf6Bwd.js";import{r as b,o as g,n as y,T as V,j as k,b as p,c as h,d as t,t as d,e as s,u as l,k as w,h as v,f as T,g as U}from"./app-O1rHkWK9.js";import{_ as j}from"./FormCheckbox-JGKKz2VX.js";import{_ as i}from"./FormInput-Ehjd8Cjy.js";import{_ as x}from"./SpinnerButton-jaq4xJlY.js";const B={class:"flex flex-col justify-center items-center w-full min-h-screen my-6"},C=t("div",{class:"w-40 h-40 z-10 border-primary border-4 rounded-full"},[t("img",{src:f,alt:"around logo"})],-1),N={class:"mt-4 px-4 py-8 w-80 lg:w-96 bg-white rounded shadow -translate-y-20"},R={class:"block font-semibold text-xl text-accent-darker mt-12 text-center"},E=t("div",{class:"mt-4"},null,-1),S=["href"],z={__name:"RegisterForm",props:{layout:null,profile:{type:Object,required:!0},routes:{type:Object,required:!0}},setup(m){const a=m,u=b();g(()=>{y(()=>u.value.focus())});const e=V({login:a.profile.username,full_name:a.profile.name,org_id:a.profile.org_id,division:a.profile.org_division_name,position:a.profile.org_position_title,password_expires_in_days:a.profile.password_expires_in_days,remark:a.profile.remark,name:null,tel_no:null,pln:null,is_md:a.profile.is_md,agreement_accepted:!1,remember:!0}),_=k(()=>e.agreement_accepted&&e.name&&e.full_name&&e.tel_no),c=()=>{e.transform(r=>({...r,remember:r.remember?"on":""})).post(a.routes.registerStore,{onFinish:()=>e.processing=!1})};return(r,o)=>(p(),h("div",B,[C,t("div",N,[t("span",R,d(r.__("Register")),1),E,s(i,{class:"mt-2",name:"name",label:r.__("display name"),modelValue:l(e).name,"onUpdate:modelValue":o[0]||(o[0]=n=>l(e).name=n),error:l(e).errors.name,placeholder:r.__("nickname, alias anything you want"),ref_key:"name_input",ref:u},null,8,["label","modelValue","error","placeholder"]),s(i,{class:"mt-2",name:"full_name",label:r.__("full name"),placeholder:r.__("title first name last name"),modelValue:l(e).full_name,"onUpdate:modelValue":o[1]||(o[1]=n=>l(e).full_name=n),error:l(e).errors.full_name,readonly:m.profile.org_id!==void 0},null,8,["label","placeholder","modelValue","error","readonly"]),s(i,{class:"mt-2",type:"tel",name:"tel_no",label:r.__("tel no"),modelValue:l(e).tel_no,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).tel_no=n),error:l(e).errors.tel_no,placeholder:r.__("for emergency case only")},null,8,["label","modelValue","error","placeholder"]),m.profile.is_md?(p(),w(i,{key:0,class:"mt-2",type:"tel",name:"pln",label:r.__("license number"),modelValue:l(e).pln,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).pln=n),error:l(e).errors.pln,placeholder:"เลข ว."},null,8,["label","modelValue","error"])):v("",!0),s(j,{class:"mt-2",modelValue:l(e).agreement_accepted,"onUpdate:modelValue":o[4]||(o[4]=n=>l(e).agreement_accepted=n),label:r.__("Accept Terms and Policies"),toggler:!0},null,8,["modelValue","label"]),t("a",{href:m.routes.terms,class:"mt-2 block text-accent-darker underline",target:"_blank"},d(r.__("Terms and Policies")),9,S),s(x,{spin:l(e).processing,class:"btn-accent w-full mt-4",onClick:c,disabled:!_.value},{default:T(()=>[U(d(r.__("REGISTER")),1)]),_:1},8,["spin","disabled"])])]))}};export{z as default};
