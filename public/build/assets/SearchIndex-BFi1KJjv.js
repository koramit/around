import{r as p,v as f,N as h,h as a,c as n,b as t,p as g,d as v,e as l,t as d,F as x,l as k,G as w,g as y}from"./app-BHQrjsHg.js";import{p as b}from"./pickBy-DutHsHBp.js";import{t as C}from"./throttle-BGSAv0Oo.js";const L={class:"flex items-center w-full md:w-auto"},B=["value"],N={key:0,class:"flex justify-end form-input md:w-auto !border-l-0 !rounded-l-none"},_={class:"flex items-center cursor-pointer select-none group"},I={class:"group-hover:text-accent-darker focus:text-accent-darker mr-1 whitespace-no-wrap"},S={class:"text-complement group-hover:text-accent-darker focus:text-accent-darker"},j={class:"mt-2 py-2 shadow-xl bg-white text-complement cursor-pointer rounded text-sm"},z=["onClick"],O={__name:"SearchIndex",props:{scopes:{type:Array,default:()=>[]},form:{type:Object,required:!0}},emits:["searchChanged","scopeChanged"],setup(o,{expose:u}){const i=o,c=p(null);return f(()=>i.form,C(function(s){let e=b(s);e=Object.keys(e).length?e:{remember:"forget"},h.get(location.pathname,e,{preserveState:!0})},800),{deep:!0}),u({focus:()=>c.value.focus()}),(s,e)=>(a(),n("div",L,[t("input",{class:g(["form-input md:w-auto",{"!border-r-0 !rounded-r-none":o.scopes.length}]),type:"text",name:"search",onInput:e[0]||(e[0]=r=>s.$emit("searchChanged",r.target.value)),value:o.form.search,placeholder:"search...",autocomplete:"off",ref_key:"searchInput",ref:c},null,42,B),o.scopes.length?(a(),n("div",N,[v(w,null,{default:l(()=>[t("div",_,[e[1]||(e[1]=t("div",null,"Scope : ",-1)),t("div",I,[t("span",S,d(o.form.scope),1)]),e[2]||(e[2]=t("div",{class:"p-1 rounded-full bg-white hover:bg-primary transition-colors ease-in-out duration-200"},[t("svg",{class:"w-3 h-3 text-accent group-hover:text-accent-darker focus:text-accent-darker",viewBox:"0 0 320 512"},[t("path",{fill:"currentColor",d:"M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z"})])],-1))])]),dropdown:l(()=>[t("div",j,[(a(!0),n(x,null,k(o.scopes.filter(r=>r!==o.form.scope),(r,m)=>(a(),n("button",{class:"block w-full text-left font-semibold px-6 py-2 transition-colors duration-200 ease-out hover:bg-primary hover:text-accent-darker",key:m,onClick:$=>s.$emit("scopeChanged",r)},d(r),9,z))),128))])]),_:1})])):y("",!0)]))}};export{O as _};
