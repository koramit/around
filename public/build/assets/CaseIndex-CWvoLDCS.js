const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateForm-gdla2WdB.js","assets/app-DQyAV5Dw.js","assets/app-BT2oe5WW.css","assets/ModalDialog-BKnWXinz.js","assets/ModalDialog-D8Qet6-I.css","assets/FormInput-DlGWadjQ.js","assets/SpinnerButton-CCMsBPh5.js","assets/FormRadio-EJraMAoj.js"])))=>i.map(i=>d[i]);
import{r as y,k as S,o as V,c as o,b as e,d as a,g as k,F as d,l as m,u as C,T as w,h as n,t as l,j as v,e as g,H as B,f as h,E,G as L}from"./app-DQyAV5Dw.js";import{_ as P}from"./SearchIndex-BJPpxX9x.js";import{_ as F}from"./NoteStatusBadge-CfwIlCk2.js";import{_ as A}from"./ActionColumn-DImJYXhW.js";import{u as T}from"./useConfirmForm-kC7L6hHs.js";import{_ as G}from"./PaginationNav-DuplPipG.js";import H from"./ConfirmFormComposable-DIsAv0nt.js";import{I as M,_ as z}from"./IconDoubleDown-BQvpEysJ.js";import"./pickBy-3cRLj5Jh.js";import"./throttle-CfMhIALc.js";import"./FormInput-DlGWadjQ.js";import"./SpinnerButton-CCMsBPh5.js";import"./ModalDialog-BKnWXinz.js";const J={class:"flex flex-col-reverse md:flex-row justify-between items-center mb-4"},K={class:"bg-white rounded shadow overflow-x-auto hidden md:block"},Q={class:"w-full whitespace-nowrap"},U={class:"text-left font-semibold text-complement"},W=["textContent","colspan"],X={key:0,class:"px-6 py-4 border-t"},Y=["textContent"],Z={class:"border-t"},R={class:"flex justify-between items-center"},tt={class:"md:hidden"},et={class:"flex justify-between items-center my-2 px-2"},st={class:"bg-primary-darker p-2 rounded-full"},nt={class:"my-2 p-2 bg-gray-100 rounded space-y-2"},ot={class:"flex items-center justify-between"},at={class:"font-semibold text-complement text-xs flex items-center"},rt={class:"block py-2 px-1 italic truncate"},it={class:"flex items-center justify-between text-xs"},lt=["textContent"],ct=["textContent"],dt=["textContent"],gt={__name:"CaseIndex",props:{caseRecords:{type:Object,required:!0},configs:{type:Object,required:!0},filters:{type:Object,required:!0},routes:{type:Object,required:!0},can:{type:Object,required:!0}},setup(r){const j=E(()=>L(()=>import("./CreateForm-gdla2WdB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),u=r,O=y(null),f=S({search:u.filters.search,scope:u.filters.scope}),b=y(null);function $(i){w(i).post(u.routes.store)}let c=null;const p=i=>{switch(c={...i},c.name){case"destroy-case":case"cancel-case":q(c.config);break}},N=i=>{switch(c.name){case"destroy-case":case"cancel-case":w({reason:i}).delete(c.route,{onFinish:()=>c=null});break}},{confirmForm:I,openConfirmForm:q,confirmed:D}=T();return V(()=>b.value.focus()),(i,s)=>(n(),o(d,null,[e("div",J,[a(P,{scopes:r.configs.scopes,form:f,onSearchChanged:s[0]||(s[0]=t=>f.search=t),onScopeChanged:s[1]||(s[1]=t=>f.scope=t),ref_key:"searchInput",ref:b},null,8,["scopes","form"]),r.can.create?(n(),o("button",{key:0,class:"btn btn-accent w-full mb-4 md:w-auto md:px-4 md:mb-0",onClick:s[2]||(s[2]=t=>i.$refs.createFormRef.open())}," New Case ")):k("",!0)]),e("div",K,[e("table",Q,[e("thead",null,[e("tr",U,[(n(),o(d,null,m(["AN","Patient","Reason","Admitted On","Status","Author"],t=>e("th",{class:"px-6 pt-6 pb-4",key:t,textContent:l(t),colspan:t==="Author"?2:1},null,8,W)),64))])]),(n(!0),o(d,null,m(r.caseRecords.data,(t,_)=>(n(),o("tr",{class:"focus-within:bg-primary-darker",key:_},[(n(),o(d,null,m(["an","patient","reason","admitted_at","status","author"],x=>(n(),o(d,{key:x},[x==="status"?(n(),o("td",X,[a(F,{status:t.status},null,8,["status"])])):(n(),o("td",{key:1,class:"px-6 py-4 border-t",textContent:l(t[x])},null,8,Y))],64))),64)),e("td",Z,[e("div",R,[a(A,{actions:t.actions,onActionClicked:p},null,8,["actions"])])])]))),128))])]),e("div",tt,[(n(!0),o(d,null,m(r.caseRecords.data,(t,_)=>(n(),o("div",{class:"bg-white rounded shadow my-4 p-4",key:_},[e("div",et,[e("div",null,l(t.patient),1),t.actions.length>1?(n(),v(B,{key:0},{default:g(()=>[e("div",st,[a(M,{class:"w-4 h-4 text-accent"})])]),dropdown:g(()=>[a(z,{actions:t.actions,onActionClicked:p},null,8,["actions"])]),_:2},1024)):t.actions.length===1?(n(),v(A,{key:1,actions:t.actions,onActionClicked:p},null,8,["actions"])):k("",!0)]),e("div",nt,[e("div",ot,[a(F,{status:t.status},null,8,["status"]),e("p",at,[e("span",rt,l(t.author),1)])]),e("div",it,[e("p",null,[s[4]||(s[4]=h(" AN : ")),e("span",{class:"text-complement font-semibold",textContent:l(t.an)},null,8,lt)]),e("p",null,[s[5]||(s[5]=h(" Reason: ")),e("span",{class:"text-complement font-semibold px-1",textContent:l(t.reason)},null,8,ct)]),e("p",null,[s[6]||(s[6]=h(" On : ")),e("span",{class:"text-complement font-semibold",textContent:l(t.admitted_at)},null,8,dt)])])])]))),128))]),a(G,{links:r.caseRecords.links},null,8,["links"]),a(C(j),{"service-endpoint":r.routes.admissionsShow,"admit-reasons":r.configs.admit_reasons,ref_key:"createFormRef",ref:O,onConfirmed:$},null,8,["service-endpoint","admit-reasons"]),a(H,{ref_key:"confirmForm",ref:I,onConfirmed:s[3]||(s[3]=t=>C(D)(t,N))},null,512)],64))}};export{gt as default};
