const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HDForm-C_BRnqEA.js","assets/app-DPyxr6eT.js","assets/app-BT2oe5WW.css","assets/FormCheckbox-BDfOwZVW.js","assets/FormInput-C0sFZaw5.js","assets/FormSelect-DoCdpcpp.js","assets/FormSelectOther-D8eDjH_9.js","assets/ModalDialog-DpsT1Y2c.js","assets/ModalDialog-D8Qet6-I.css","assets/FormRadio-o7psNeRm.js","assets/useSelectOther-Cof-HEvD.js","assets/IconCopy-StCOt78X.js","assets/HFForm-Dn1OLHEQ.js","assets/SLEDDForm-CjgchwM3.js","assets/FormTextarea-BRcuvMLl.js","assets/TPEForm-C8RLUW-1.js","assets/DialysisSlot-Bz_dgcUe.js","assets/WardSlot-D-l4WZ-_.js","assets/IconUserMd-6DXYmU3N.js"])))=>i.map(i=>d[i]);
import{_ as X,h as i,c as m,b as r,k as D,T as I,y as Y,v as T,r as F,o as Z,d as s,p as ee,f as C,g as f,e as u,m as _,u as l,F as v,j as c,x as N,t as $,q as le,l as k,E as w,n as te,A as oe,G as h}from"./app-DPyxr6eT.js";import{_ as U}from"./FormInput-C0sFZaw5.js";import{_ as p}from"./FormCheckbox-BDfOwZVW.js";import{_ as ae}from"./FormSelect-DoCdpcpp.js";import{_ as B}from"./FormTextarea-BRcuvMLl.js";import{_ as A}from"./SpinnerButton-D4TpFu-c.js";import{_ as se}from"./FormDatetime-BuCMUHjp.js";import{_ as ne}from"./CommentSection-DkWFoR1L.js";import{_ as re}from"./SerologyInfo-CTogLzTo.js";import"./IconEyes-DAYzhujW.js";import"./IconEyesSlash-BKkraADE.js";const ie={},de={viewBox:"0 0 512 512"};function me(y,E){return i(),m("svg",de,E[0]||(E[0]=[r("path",{fill:"currentColor",d:"M449.9 39.96l-48.5 48.53C362.5 53.19 311.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.97 5.5 34.86-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c37.96 0 73 14.18 100.2 37.8L311.1 178C295.1 194.8 306.8 223.4 330.4 224h146.9C487.7 223.7 496 215.3 496 204.9V59.04C496 34.99 466.9 22.95 449.9 39.96zM441.8 289.6c-16.94-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-37.96 0-73-14.18-100.2-37.8L200 334C216.9 317.2 205.2 288.6 181.6 288H34.66C24.32 288.3 16 296.7 16 307.1v145.9c0 24.04 29.07 36.08 46.07 19.07l48.5-48.53C149.5 458.8 200.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"},null,-1)]))}const ue=X(ie,[["render",me]]),pe={class:"flex justify-between items-center",id:"reservation"},fe={class:"grid gap-2 md:gap-4 md:grid-cols-2 xl:gap-8 2xl:grid-cols-4"},ye={key:0},_e={class:"mt-4 md:mt-8 xl:mt-16 grid xl:grid-cols-2 gap-2 md:gap-4 lg:gap-6"},ge={class:"mt-2 lg:mt-0 md:pt-4"},be={class:"mt-4 md:mt-8 xl:mt-16 grid xl:grid-cols-2 gap-2 md:gap-4 lg:gap-6"},ce={class:"space-y-2 md:space-y-4 lg:space-y-6"},Ve={class:"form-label block"},xe={key:0},ve={key:0},we={key:0},he={key:0},Ce={key:0,class:"mt-2 md:mt-4 xl:mt-8 space-y-2 md:space-y-4 lg:space-y-0 lg:grid grid-flow-col grid-cols-2 grid-rows-3 gap-4"},ke={key:0,class:"mt-2 md:mt-4 xl:mt-8 space-y-2 md:space-y-4 xl:space-y-4"},Ue={key:0,class:"mt-2 md:mt-4 xl:mt-8 space-y-2 md:space-y-4 lg:space-y-0 lg:grid grid-flow-col grid-cols-2 grid-rows-1 gap-4"},Ee={key:0,class:"mt-2 md:mt-4 xl:mt-8 space-y-2 md:space-y-4 lg:space-y-0 lg:grid grid-flow-col grid-cols-2 grid-rows-3 gap-4"},Pe={key:0},Se={class:"mt-2 md:mt-4 xl:mt-8 space-y-2 md:space-y-4 lg:space-y-0 lg:grid grid-flow-col grid-cols-2 grid-rows-2 gap-4"},Be={__name:"OrderEdit",props:{orderForm:{type:Object,required:!0},formConfigs:{type:Object,required:!0}},setup(y){const E=w(()=>h(()=>import("./HDForm-C_BRnqEA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),H=w(()=>h(()=>import("./HFForm-Dn1OLHEQ.js"),__vite__mapDeps([12,1,2,3,4,5,9,6,7,8,10,11]))),M=w(()=>h(()=>import("./SLEDDForm-CjgchwM3.js"),__vite__mapDeps([13,1,2,3,4,14,5,9,6,7,8,10,11]))),j=w(()=>h(()=>import("./TPEForm-C8RLUW-1.js"),__vite__mapDeps([15,1,2,3,4,5,9,6,7,8,10,11]))),z=w(()=>h(()=>import("./DialysisSlot-Bz_dgcUe.js"),__vite__mapDeps([16,1,2,17,18]))),W=w(()=>h(()=>import("./WardSlot-D-l4WZ-_.js").then(n=>n.W),__vite__mapDeps([17,1,2,18]))),V=y,a=D({...V.formConfigs}),o=I({...V.orderForm}),{autosave:G}=Y();T(()=>o.data(),n=>{n.hemodynamic.stable&&(n.hemodynamic.hypotension=!1,n.hemodynamic.inotropic_dependent=!1,n.hemodynamic.severe_hypertension=!1,n.hemodynamic.bradycardia=!1,n.hemodynamic.arrhythmia=!1),n.respiration.stable&&(n.respiration.hypoxia=!1,n.respiration.high_risk_airway_obstruction=!1),n.neurological.stable&&(n.neurological.gcs_drop=!1,n.neurological.drowsiness=!1),n.life_threatening_condition.stable&&(n.life_threatening_condition.acute_coronary_syndrome=!1,n.life_threatening_condition.cardiac_arrhythmia_with_hypotension=!1,n.life_threatening_condition.acute_ischemic_stroke=!1,n.life_threatening_condition.acute_ich=!1,n.life_threatening_condition.seizure=!1,n.life_threatening_condition.cardiac_arrest=!1),n.monitor.standard&&(n.monitor.ekg=!1,n.monitor.observe_chest_pain=!1,n.monitor.observe_neuro_sign=!1,n.monitor.other=null),G(o.data(),a.routes.update)},{deep:a.can.update});const L=()=>o.patch(a.routes.submit),{actionStore:Q}=oe();T(()=>Q.value,n=>{switch(n.name){case"submit":L();break;default:return}},{deep:!0});const P=F(!1),d=I({dialysis_type:a.dialysis_type,dialysis_at:a.dialysis_at,attending_staff:null,date_note:a.date_note,patient_type:null,swap_with:null}),J=F(null),g=D({slots:[],available:!1,reply:""}),q=()=>window.axios.post(a.routes.acute_hemodialysis_slot_available,{dialysis_type:d.dialysis_type,dialysis_at:d.dialysis_at,date_note:d.date_note}).then(n=>{g.slots=n.data.slots,g.available=n.data.available,g.reply=n.data.reply});Z(q),T(()=>d.date_note,n=>{n&&q()});const O=()=>{a.reserve_available_dates=V.formConfigs.reserve_available_dates,a.date_note=V.formConfigs.date_note,a.dialysis_type=V.formConfigs.dialysis_type,a.dialysis_at=V.formConfigs.dialysis_at,a.swap_code=V.formConfigs.swap_code,a.can=V.formConfigs.can},x=F(!1),R=F(!1),S=()=>{window.axios.patch(a.routes.copy).then(n=>{if(!n.data.found){R.value=!0,setTimeout(()=>R.value=!1,2e3);return}x.value=!0,te(()=>{n.data.records.map(e=>{o[e.type]=e.form})}),setTimeout(()=>x.value=!1,200)})};return(n,e)=>(i(),m(v,null,[s(re,{class:"mb-4 md:mb-8",serology:y.formConfigs.serology},null,8,["serology"]),r("h2",pe,[e[26]||(e[26]=r("span",{class:"form-label !mb-0 text-lg italic text-complement"},"Reservation data",-1)),a.can.reschedule?(i(),m("button",{key:0,class:"flex items-center text-sm text-accent",onClick:e[0]||(e[0]=t=>P.value=!P.value)},[s(ue,{class:ee(["w-3 h-3 mr-1 transition-all transform duration-200 ease-out",{"rotate-180 text-accent-darker":P.value}])},null,8,["class"]),e[25]||(e[25]=C(" Reschedule "))])):f("",!0)]),e[29]||(e[29]=r("hr",{class:"my-4 border-b border-accent"},null,-1)),r("div",fe,[s(U,{modelValue:a.hn,"onUpdate:modelValue":e[1]||(e[1]=t=>a.hn=t),name:"hn",label:"hn",readonly:!0},null,8,["modelValue"]),s(U,{modelValue:a.an,"onUpdate:modelValue":e[2]||(e[2]=t=>a.an=t),name:"an",label:"an",placeholder:"No active admission",readonly:!0},null,8,["modelValue"]),s(U,{modelValue:a.dialysis_at,"onUpdate:modelValue":e[3]||(e[3]=t=>a.dialysis_at=t),name:"dialysis_at",label:"dialysis at",readonly:!0},null,8,["modelValue"]),s(U,{modelValue:a.dialysis_type,"onUpdate:modelValue":e[4]||(e[4]=t=>a.dialysis_type=t),name:"dialysis_type",label:"dialysis type",readonly:!0},null,8,["modelValue"])]),s(_,{name:"slide-fade"},{default:u(()=>[P.value&&a.can.reschedule?(i(),m("div",ye,[r("div",_e,[s(se,{label:"reschedule date",name:"date_note",modelValue:l(d).date_note,"onUpdate:modelValue":e[5]||(e[5]=t=>l(d).date_note=t),options:{enable:a.reserve_available_dates,inline:!0},ref_key:"dateNoteInput",ref:J},null,8,["modelValue","options"]),r("div",null,[l(d).dialysis_at.indexOf("Hemo")!==-1?(i(),c(l(z),{key:0,slots:g.slots},null,8,["slots"])):(i(),c(l(W),{key:1,slots:g.slots},null,8,["slots"])),g.reply&&!g.available?(i(),c(N,{key:2,class:"mt-4",type:"warning",title:"Cannot make a reservation",message:g.reply},null,8,["message"])):f("",!0)]),r("div",ge,[s(A,{class:"block w-full text-center btn btn-accent",spin:l(d).processing,disabled:l(d).date_note===a.date_note||!g.available,onClick:e[6]||(e[6]=t=>l(d).date_note!==a.today?l(d).patch(a.routes.reschedule,{onFinish:O}):l(d).patch(a.routes.today_slot_request,{onFinish:O}))},{default:u(()=>[C($(l(d).date_note===a.today||a.date_note===a.today?"REQUEST RESCHEDULE":"RESCHEDULE"),1)]),_:1},8,["spin","disabled"])])]),r("div",be,[r("div",ce,[r("label",Ve,[e[27]||(e[27]=C(" swap code : ")),s(le,{text:a.swap_code},{default:u(()=>[r("span",null,$(a.swap_code),1)]),_:1},8,["text"])]),s(U,{modelValue:l(d).swap_with,"onUpdate:modelValue":e[7]||(e[7]=t=>l(d).swap_with=t),name:"swap_with",label:"swap with"},null,8,["modelValue"]),s(A,{class:"block w-full text-center btn btn-accent",spin:l(d).processing,disabled:!l(d).swap_with||l(d).swap_with===a.swap_code,onClick:e[8]||(e[8]=t=>l(d).patch(a.routes.swap,{onFinish:O}))},{default:u(()=>[C($(l(d).swap_with!==a.swap_code?"SWAP":"ðŸ™„ðŸ™„ðŸ™„"),1)]),_:1},8,["spin","disabled"])])])])):f("",!0)]),_:1}),s(_,{name:"slide-fade"},{default:u(()=>[R.value?(i(),c(N,{key:0,class:"mt-4 md:mt-8",message:"No previous order",title:"ðŸ˜…",type:"warning"})):f("",!0)]),_:1}),s(_,{name:"slide-fade"},{default:u(()=>[y.orderForm.hd!==void 0&&!x.value?(i(),m("div",xe,[s(l(E),{modelValue:l(o).hd,"onUpdate:modelValue":e[9]||(e[9]=t=>l(o).hd=t),"form-configs":y.formConfigs,onCopyPreviousOrder:S},null,8,["modelValue","form-configs"])])):f("",!0)]),_:1}),s(_,{name:"slide-fade"},{default:u(()=>[y.orderForm.hf!==void 0&&!x.value?(i(),m("div",ve,[s(l(H),{modelValue:l(o).hf,"onUpdate:modelValue":e[10]||(e[10]=t=>l(o).hf=t),"form-configs":y.formConfigs,onCopyPreviousOrder:S},null,8,["modelValue","form-configs"])])):f("",!0)]),_:1}),s(_,{name:"slide-fade"},{default:u(()=>[y.orderForm.sledd!==void 0&&!x.value?(i(),m("div",we,[s(l(M),{modelValue:l(o).sledd,"onUpdate:modelValue":e[11]||(e[11]=t=>l(o).sledd=t),"form-configs":y.formConfigs,onCopyPreviousOrder:S},null,8,["modelValue","form-configs"])])):f("",!0)]),_:1}),s(_,{name:"slide-fade"},{default:u(()=>[y.orderForm.tpe!==void 0&&!x.value?(i(),m("div",he,[s(l(j),{modelValue:l(o).tpe,"onUpdate:modelValue":e[12]||(e[12]=t=>l(o).tpe=t),"form-configs":y.formConfigs,onCopyPreviousOrder:S},null,8,["modelValue","form-configs"])])):f("",!0)]),_:1}),e[30]||(e[30]=r("h2",{class:"mt-6 md:mt-12 xl:mt-24 form-label italic text-xl text-complement",id:"predialysis-evaluation"}," predialysis evaluation ",-1)),e[31]||(e[31]=r("hr",{class:"my-4 border-b border-accent"},null,-1)),e[32]||(e[32]=r("label",{class:"form-label"},"hemodynamic :",-1)),s(p,{name:"hemodynamic.stable",modelValue:l(o).hemodynamic.stable,"onUpdate:modelValue":e[13]||(e[13]=t=>l(o).hemodynamic.stable=t),label:"Stable",toggler:!0,error:l(o).errors["hemodynamic.stable"]},null,8,["modelValue","error"]),s(_,{name:"slide-fade"},{default:u(()=>[l(o).hemodynamic.stable?f("",!0):(i(),m("div",Ce,[(i(!0),m(v,null,k(a.hemodynamic_symptoms,t=>(i(),c(p,{key:t.name,name:"hypotension",modelValue:l(o).hemodynamic[t.name],"onUpdate:modelValue":b=>l(o).hemodynamic[t.name]=b,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]))]),_:1}),e[33]||(e[33]=r("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),e[34]||(e[34]=r("label",{class:"form-label"},"Respiration :",-1)),s(p,{name:"respiration.stable",modelValue:l(o).respiration.stable,"onUpdate:modelValue":e[14]||(e[14]=t=>l(o).respiration.stable=t),label:"Stable",toggler:!0,error:l(o).errors["respiration.stable"]},null,8,["modelValue","error"]),s(_,{name:"slide-fade"},{default:u(()=>[l(o).respiration.stable?f("",!0):(i(),m("div",ke,[(i(!0),m(v,null,k(a.respiration_options,t=>(i(),c(p,{key:t.name,name:"hypotension",modelValue:l(o).respiration[t.name],"onUpdate:modelValue":b=>l(o).respiration[t.name]=b,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]))]),_:1}),e[35]||(e[35]=r("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),e[36]||(e[36]=r("label",{class:"form-label"},"Oxygen support :",-1)),s(ae,{modelValue:l(o).oxygen_support,"onUpdate:modelValue":e[15]||(e[15]=t=>l(o).oxygen_support=t),name:"oxygen_support",options:a.oxygen_options},null,8,["modelValue","options"]),e[37]||(e[37]=r("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),e[38]||(e[38]=r("label",{class:"form-label"},"Neurological evaluation :",-1)),s(p,{name:"neurological.stable",modelValue:l(o).neurological.stable,"onUpdate:modelValue":e[16]||(e[16]=t=>l(o).neurological.stable=t),label:"Stable",toggler:!0,error:l(o).errors["neurological.stable"]},null,8,["modelValue","error"]),s(_,{name:"slide-fade"},{default:u(()=>[l(o).neurological.stable?f("",!0):(i(),m("div",Ue,[(i(!0),m(v,null,k(a.neurological_options,t=>(i(),c(p,{key:t.name,name:"hypotension",modelValue:l(o).neurological[t.name],"onUpdate:modelValue":b=>l(o).neurological[t.name]=b,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]))]),_:1}),e[39]||(e[39]=r("hr",{class:"border border-dashed my-2 md:my-4 xl:my-8"},null,-1)),e[40]||(e[40]=r("label",{class:"form-label"},"Life threatening condition in the past 24 hours :",-1)),s(p,{name:"life_threatening_condition.stable",modelValue:l(o).life_threatening_condition.stable,"onUpdate:modelValue":e[17]||(e[17]=t=>l(o).life_threatening_condition.stable=t),label:"Stable",toggler:!0,error:l(o).errors["life_threatening_condition.stable"]},null,8,["modelValue","error"]),s(_,{name:"slide-fade"},{default:u(()=>[l(o).life_threatening_condition.stable?f("",!0):(i(),m("div",Ee,[(i(!0),m(v,null,k(a.life_threatening_condition_options,t=>(i(),c(p,{key:t.name,name:"hypotension",modelValue:l(o).life_threatening_condition[t.name],"onUpdate:modelValue":b=>l(o).life_threatening_condition[t.name]=b,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]))]),_:1}),e[41]||(e[41]=r("h2",{class:"mt-6 md:mt-12 xl:mt-24 form-label italic text-xl text-complement",id:"monitoring"}," monitoring ",-1)),e[42]||(e[42]=r("hr",{class:"my-4 border-b border-accent"},null,-1)),s(p,{name:"monitor.standard",modelValue:l(o).monitor.standard,"onUpdate:modelValue":e[18]||(e[18]=t=>l(o).monitor.standard=t),label:"Standard (MAP â‰¥ 65 mmHg)",toggler:!0,error:l(o).errors["monitor.standard"]},null,8,["modelValue","error"]),s(_,{name:"slide-fade"},{default:u(()=>[l(o).monitor.standard?f("",!0):(i(),m("div",Pe,[r("div",Se,[(i(!0),m(v,null,k(a.monitors,(t,b)=>(i(),c(p,{key:b,label:t.label,name:t.name,modelValue:l(o).monitor[t.name],"onUpdate:modelValue":K=>l(o).monitor[t.name]=K},null,8,["label","name","modelValue","onUpdate:modelValue"]))),128))]),s(B,{class:"mt-2 md:mt-4 xl:mt-8",label:"other",placeholder:"others...",name:"monitoring_other",modelValue:l(o).monitor.other,"onUpdate:modelValue":e[19]||(e[19]=t=>l(o).monitor.other=t)},null,8,["modelValue"])]))]),_:1}),e[43]||(e[43]=r("h2",{class:"mt-6 md:mt-12 xl:mt-24 form-label italic text-xl text-complement",id:"special-orders"}," special orders ",-1)),e[44]||(e[44]=r("hr",{class:"my-4 border-b border-accent"},null,-1)),s(p,{class:"mt-2 md:bt-4 xl:mt-8",name:"predialysis_labs_request",modelValue:l(o).predialysis_labs_request,"onUpdate:modelValue":e[20]||(e[20]=t=>l(o).predialysis_labs_request=t),label:"Predialysis Labs request",toggler:!0},null,8,["modelValue"]),s(p,{class:"mt-2 md:mt-4 xl:mt-8",name:"postdialysis_bw",modelValue:l(o).postdialysis_bw,"onUpdate:modelValue":e[21]||(e[21]=t=>l(o).postdialysis_bw=t),label:"Postdialysis BW",toggler:!0},null,8,["modelValue"]),s(p,{class:"mt-2 md:mt-4 xl:mt-8",name:"postdialysis_esa",modelValue:l(o).postdialysis_esa,"onUpdate:modelValue":e[22]||(e[22]=t=>l(o).postdialysis_esa=t),label:"Postdialysis ESA",toggler:!0},null,8,["modelValue"]),s(p,{class:"mt-2 md:mt-4 xl:mt-8",name:"postdialysis_iron_iv",modelValue:l(o).postdialysis_iron_iv,"onUpdate:modelValue":e[23]||(e[23]=t=>l(o).postdialysis_iron_iv=t),label:"Postdialysis Iron IV",toggler:!0},null,8,["modelValue"]),s(B,{class:"mt-2 md:mt-4 xl:mt-8",label:"treatments request",name:"treatments_request",modelValue:l(o).treatments_request,"onUpdate:modelValue":e[24]||(e[24]=t=>l(o).treatments_request=t),error:l(o).errors.treatments_request},null,8,["modelValue","error"]),s(A,{onClick:L,spin:l(o).processing,class:"mt-4 md:mt-8 w-full btn-accent"},{default:u(()=>e[28]||(e[28]=[C(" SUBMIT ")])),_:1},8,["spin"]),e[45]||(e[45]=r("h2",{class:"mt-6 md:mt-12 xl:mt-24 form-label italic text-xl text-complement scroll-mt-16 md:scroll-mt-8",id:"discussion"}," discussion ",-1)),e[46]||(e[46]=r("hr",{class:"my-4 border-b border-accent"},null,-1)),s(ne,{configs:a.comment},null,8,["configs"])],64))}};export{Be as default};
